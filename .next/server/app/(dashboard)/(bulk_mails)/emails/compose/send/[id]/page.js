(()=>{var e={};e.id=1199,e.ids=[1199],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},13001:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(29855),r(37978),r(81095),r(6989),r(80774),r(35866),r(27653);var s=r(23191),a=r(88716),n=r(37922),o=r.n(n),i=r(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["(dashboard)",{children:["(bulk_mails)",{children:["emails",{children:["compose",{children:["send",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,29855)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\(bulk_mails)\\emails\\compose\\send\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{error:[()=>Promise.resolve().then(r.bind(r,37978)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\(bulk_mails)\\emails\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,81095)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\(bulk_mails)\\emails\\loading.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6989)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,80774)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,27653)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\(bulk_mails)\\emails\\compose\\send\\[id]\\page.tsx"],m="/(dashboard)/(bulk_mails)/emails/compose/send/[id]/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/(bulk_mails)/emails/compose/send/[id]/page",pathname:"/emails/compose/send/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},76033:(e,t,r)=>{Promise.resolve().then(r.bind(r,28600))},68148:(e,t,r)=>{Promise.resolve().then(r.bind(r,64969))},35303:()=>{},28600:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(10326);function a({error:e,reset:t}){return(0,s.jsxs)("div",{className:"text-center mt-10",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-500",children:"Something went wrong \uD83D\uDE13"}),s.jsx("p",{className:"font-bold",children:e.message}),s.jsx("button",{onClick:()=>t(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded",children:"Try again"})]})}},64969:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var s=r(10326),a=r(9969),n=r(74723),o=r(69654),i=r(91664);r(17577);var l=r(47769),d=r(11439);let c=function({data:e,composeId:t}){let r=e?.data,c=(0,n.cI)();async function m(e){let r=Object.entries(e).filter(([e,t])=>e.startsWith("group-")&&!0===t).map(([e])=>Number(e.replace("group-",""))),s=[];for(let e of r){let r=l.Z.post("/api/mails/v1/emails/send/",{group:e,email_compose:t});s.push(r)}try{let e=await Promise.allSettled(s);console.log(e);let t=e.filter(e=>"fulfilled"===e.status),r=e.filter(e=>"rejected"===e.status);d.toast.success(`${t.length} requests have been made to send emails!`),r.length>0?d.toast.warn(`${r.length} requests failed!}`):(c.reset(),c.clearErrors())}catch(e){console.log(e),d.toast.error(e?.response?.data?.message||"Something went wrong")}}return(0,s.jsxs)("div",{className:"shadow-md rounded-md p-4 border",children:[(0,s.jsxs)("div",{className:" mb-4",children:[s.jsx("h4",{className:"text-center font-bold text-3xl",children:"Send email"}),s.jsx("p",{className:"text-center",children:"Send email of this compose to multiple groups"})]}),s.jsx(a.l0,{...c,children:s.jsx("form",{onSubmit:c.handleSubmit(m),onReset:function(){c.reset(),c.clearErrors()},className:"space-y-8 @container",children:(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[r?.map(e=>s.jsx(a.Wi,{control:c.control,name:`group-${e.id}`,render:({field:t})=>s.jsxs(a.xJ,{className:"col-span-12 col-start-auto flex self-end flex-col gap-2 space-y-0 items-start",children:[s.jsx(a.lX,{className:"hidden shrink-0",children:e.name}),s.jsxs("div",{className:"w-full",children:[s.jsx(a.NI,{children:s.jsxs(a.lX,{className:"border-0 p-0 w-full flex items-start has-[[data-state=checked]]:border-primary",htmlFor:`group-${e.id}`,children:[s.jsx(o.X,{id:`group-${e.id}`,className:"",...t,checked:t.value,onCheckedChange:t.onChange}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsx(a.lX,{children:e.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})]},"checkbox-0")}),s.jsx(a.zG,{})]})]})},e.id)),s.jsx(a.Wi,{control:c.control,name:"reset-button-0",render:({field:e})=>(0,s.jsxs)(a.xJ,{className:"col-span-6 col-start-auto flex self-end flex-col gap-2 space-y-0 items-start",children:[s.jsx(a.lX,{className:"hidden shrink-0",children:"Reset"}),(0,s.jsxs)("div",{className:"w-full",children:[s.jsx(a.NI,{children:s.jsx(i.z,{id:"reset-button-0",name:"",className:"w-full",type:"reset",variant:"outline",children:"Reset"},"reset-button-0")}),s.jsx(a.zG,{})]})]})}),s.jsx(a.Wi,{control:c.control,name:"submit-button-1",render:({field:e})=>(0,s.jsxs)(a.xJ,{className:"col-span-6 col-start-auto flex self-end flex-col gap-2 space-y-0 items-start",children:[s.jsx(a.lX,{className:"hidden shrink-0",children:"Submit"}),(0,s.jsxs)("div",{className:"w-full",children:[s.jsx(a.NI,{children:s.jsx(i.z,{id:"submit-button-1",name:"",className:"w-full",type:"submit",variant:"default",children:"Submit"},"submit-button-1")}),s.jsx(a.zG,{})]})]})})]})})})]})}},69654:(e,t,r)=>{"use strict";r.d(t,{X:()=>q});var s=r(10326),a=r(17577),n=r(48051),o=r(93095),i=r(82561),l=r(52067),d=r(53405),c=r(2566),m=r(9815),u=r(45226),p="Checkbox",[x,h]=(0,o.b)(p),[f,b]=x(p);function g(e){let{__scopeCheckbox:t,checked:r,children:n,defaultChecked:o,disabled:i,form:d,name:c,onCheckedChange:m,required:u,value:x="on",internal_do_not_use_render:h}=e,[b,g]=(0,l.T)({prop:r,defaultProp:o??!1,onChange:m,caller:p}),[j,v]=a.useState(null),[k,y]=a.useState(null),N=a.useRef(!1),w=!j||!!d||!!j.closest("form"),_={checked:b,disabled:i,setChecked:g,control:j,setControl:v,name:c,form:d,value:x,hasConsumerStoppedPropagationRef:N,required:u,defaultChecked:!P(o)&&o,isFormControl:w,bubbleInput:k,setBubbleInput:y};return(0,s.jsx)(f,{scope:t,..._,children:"function"==typeof h?h(_):n})}var j="CheckboxTrigger",v=a.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...o},l)=>{let{control:d,value:c,disabled:m,checked:p,required:x,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:k}=b(j,e),y=(0,n.e)(l,h),N=a.useRef(p);return a.useEffect(()=>{let e=d?.form;if(e){let t=()=>f(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,f]),(0,s.jsx)(u.WV.button,{type:"button",role:"checkbox","aria-checked":P(p)?"mixed":p,"aria-required":x,"data-state":M(p),"data-disabled":m?"":void 0,disabled:m,value:c,...o,ref:y,onKeyDown:(0,i.M)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.M)(r,e=>{f(e=>!!P(e)||!e),k&&v&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});v.displayName=j;var k=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:a,checked:n,defaultChecked:o,required:i,disabled:l,value:d,onCheckedChange:c,form:m,...u}=e;return(0,s.jsx)(g,{__scopeCheckbox:r,checked:n,defaultChecked:o,disabled:l,required:i,onCheckedChange:c,name:a,form:m,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{...u,ref:t,__scopeCheckbox:r}),e&&(0,s.jsx)(_,{__scopeCheckbox:r})]})})});k.displayName=p;var y="CheckboxIndicator",N=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:a,...n}=e,o=b(y,r);return(0,s.jsx)(m.z,{present:a||P(o.checked)||!0===o.checked,children:(0,s.jsx)(u.WV.span,{"data-state":M(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});N.displayName=y;var w="CheckboxBubbleInput",_=a.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:o,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:m,required:p,disabled:x,name:h,value:f,form:g,bubbleInput:j,setBubbleInput:v}=b(w,e),k=(0,n.e)(r,v),y=(0,d.D)(l),N=(0,c.t)(o);a.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!i.current;if(y!==l&&e){let r=new Event("click",{bubbles:t});j.indeterminate=P(l),e.call(j,!P(l)&&l),j.dispatchEvent(r)}},[j,y,l,i]);let _=a.useRef(!P(l)&&l);return(0,s.jsx)(u.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??_.current,required:p,disabled:x,name:h,value:f,form:g,...t,tabIndex:-1,ref:k,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function P(e){return"indeterminate"===e}function M(e){return P(e)?"indeterminate":e?"checked":"unchecked"}_.displayName=w;var C=r(32933),E=r(51223);let q=a.forwardRef(({className:e,...t},r)=>s.jsx(k,{ref:r,className:(0,E.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(N,{className:(0,E.cn)("flex items-center justify-center text-current"),children:s.jsx(C.Z,{className:"h-4 w-4"})})}));q.displayName=k.displayName},9969:(e,t,r)=>{"use strict";r.d(t,{NI:()=>f,Wi:()=>m,l0:()=>d,lX:()=>h,pf:()=>b,xJ:()=>x,zG:()=>g});var s=r(10326),a=r(17577),n=r(34214),o=r(74723),i=r(51223),l=r(44794);let d=o.RV,c=a.createContext({}),m=({...e})=>s.jsx(c.Provider,{value:{name:e.name},children:s.jsx(o.Qr,{...e})}),u=()=>{let e=a.useContext(c),t=a.useContext(p),{getFieldState:r}=(0,o.Gc)(),s=(0,o.cl)({name:e.name}),n=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},p=a.createContext({});function x({className:e,...t}){let r=a.useId();return s.jsx(p.Provider,{value:{id:r},children:s.jsx("div",{"data-slot":"form-item",className:(0,i.cn)("grid gap-2",e),...t})})}function h({className:e,...t}){let{error:r,formItemId:a}=u();return s.jsx(l._,{"data-slot":"form-label","data-error":!!r,className:(0,i.cn)("data-[error=true]:text-destructive",e),htmlFor:a,...t})}function f({...e}){let{error:t,formItemId:r,formDescriptionId:a,formMessageId:o}=u();return s.jsx(n.g7,{"data-slot":"form-control",id:r,"aria-describedby":t?`${a} ${o}`:`${a}`,"aria-invalid":!!t,...e})}function b({className:e,...t}){let{formDescriptionId:r}=u();return s.jsx("p",{"data-slot":"form-description",id:r,className:(0,i.cn)("text-muted-foreground text-sm",e),...t})}function g({className:e,...t}){let{error:r,formMessageId:a}=u(),n=r?String(r?.message??""):t.children;return n?s.jsx("p",{"data-slot":"form-message",id:a,className:(0,i.cn)("text-destructive text-sm",e),...t,children:n}):null}},44794:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var s=r(10326),a=r(17577),n=r(34478),o=r(79360),i=r(51223);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},r)=>s.jsx(n.f,{ref:r,className:(0,i.cn)(l(),e),...t}));d.displayName=n.f.displayName},29855:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(19510);let a=(0,r(68570).createProxy)(String.raw`A:\peopleForTek\member management backend\Member-Management-Nextjs\src\components\bulk_mail\EmailMultipleGroupSend.tsx#default`);var n=r(50218),o=r(71615);r(71159);let i=async function({params:e}){let t=(0,o.cookies)(),r=t.get("access_token")?.value||"",{id:i}=await e,l={};try{let{data:e}=await n.Z.get("/api/mails/v1/email/groups/",{headers:{Cookie:`access_token=${r}`}});l=e}catch(e){throw console.log("Error occurred"),console.log(e.response.data),Error(e?.response?.data?.message||"Something went wrong")}return s.jsx("div",{children:s.jsx(a,{data:l,composeId:i})})}},37978:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`A:\peopleForTek\member management backend\Member-Management-Nextjs\src\app\(dashboard)\(bulk_mails)\emails\error.tsx#default`)},81095:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(19510),a=r(3705);let n=function(){return s.jsx("div",{children:s.jsx(a.xg,{})})}},3705:(e,t,r)=>{"use strict";r.d(t,{h2:()=>o,xg:()=>i});var s=r(19510),a=r(40644);function n({size:e="default",variant:t="default",showText:r=!1,text:n="Loading...",center:o=!1,fullHeight:i=!1,className:l,...d}){return(0,s.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center gap-3",o&&"absolute inset-0 m-auto",i&&"h-full",l),...d,children:[s.jsx("div",{className:(0,a.cn)("animate-spin rounded-full",{sm:"h-4 w-4 border-2",default:"h-8 w-8 border-3",lg:"h-12 w-12 border-4",xl:"h-16 w-16 border-4"}[e],{default:"border-muted-foreground/20 border-t-muted-foreground/60",primary:"border-muted-foreground/20 border-t-primary",secondary:"border-muted-foreground/20 border-t-secondary",ghost:"border-background/20 border-t-background/80"}[t])}),r&&s.jsx("p",{className:(0,a.cn)("text-muted-foreground animate-pulse","sm"===e&&"text-xs","default"===e&&"text-sm","lg"===e&&"text-base","xl"===e&&"text-lg"),children:n})]})}function o({variant:e="primary",text:t="Loading...",className:r,...o}){return s.jsx("div",{className:(0,a.cn)("fixed inset-0 z-50 flex items-center justify-center",o.backdrop&&"bg-background/80 backdrop-blur-sm",r),children:s.jsx(n,{size:"lg",variant:e,showText:!0,text:t,...o})})}function i({className:e,...t}){return s.jsx("div",{className:(0,a.cn)("flex items-center justify-center h-screen bg-transparent space-x-1.5",e),...t,children:[0,1,2].map(e=>s.jsx("div",{className:"h-10 w-10 rounded-full animate-bounce bg-primary",style:{animationDelay:`${.1*e}s`}},e))})}},50218:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=r(29712).Z.create({baseURL:process.env.NEXT_PUBLIC_BACKEND_API_URL||"http://localhost:8000",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0})},40644:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(55761),a=r(62386);function n(...e){return(0,a.m6)((0,s.W)(e))}},53405:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var s=r(17577);function a(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}};var t=require("../../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,2144,9314,5584,7134,2315,86,7707,5917,2721],()=>r(13001));module.exports=s})();