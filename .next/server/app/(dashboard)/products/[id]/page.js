(()=>{var e={};e.id=8476,e.ids=[8476],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},56286:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(71915),r(6989),r(80774),r(35866),r(27653);var a=r(23191),s=r(88716),i=r(37922),n=r.n(i),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["(dashboard)",{children:["products",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,71915)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\products\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6989)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,80774)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,27653)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\products\\[id]\\page.tsx"],u="/(dashboard)/products/[id]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(dashboard)/products/[id]/page",pathname:"/products/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},25547:(e,t,r)=>{Promise.resolve().then(r.bind(r,42560))},11890:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},42560:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var a=r(10326),s=r(17577),i=r(91664),n=r(41190),o=r(11890),l=r(39183),d=r(53296),c=r(90434);function u({product:e}){let t=Array.isArray(e.data.media)?e.data.media:[],[r,u]=(0,s.useState)(0),[m,p]=(0,s.useState)(1),h=(0,d.x)(e=>e.addToCart),x=parseFloat(e.data.discount_rate),g=(parseFloat(e.data.price)*(1-x/100)).toFixed(2),b=r<t.length?r:0;return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto p-6 grid md:grid-cols-2 gap-10",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"aspect-w-1 aspect-h-1 rounded-lg overflow-hidden border border-gray-200 relative",children:[a.jsx("img",{src:`http://127.0.0.1:8000/${t[b]?.image}`,alt:`Product Image ${b+1}`,style:{width:"100%",height:"auto",objectFit:"cover"}}),a.jsx("button",{onClick:()=>{u(e=>0===e?t.length>0?t.length-1:0:e-1)},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white rounded-full p-2 shadow hover:bg-gray-100","aria-label":"Previous Image",type:"button",children:a.jsx(o.Z,{size:24})}),a.jsx("button",{onClick:()=>{u(e=>e===t.length-1?0:e+1)},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white rounded-full p-2 shadow hover:bg-gray-100","aria-label":"Next Image",type:"button",children:a.jsx(l.Z,{size:24})})]}),a.jsx("div",{className:"flex space-x-3 mt-4 overflow-x-auto",children:t.length>0?t.map((e,t)=>a.jsx("button",{onClick:()=>u(t),className:`w-20 h-20 rounded-md border overflow-hidden ${t===b?"border-blue-600 ring-2 ring-blue-500":"border-gray-300"}`,"aria-label":`Select image ${t+1}`,type:"button",children:a.jsx("img",{src:`http://127.0.0.1:8000/${e.image}`,alt:`Thumbnail ${t+1}`,width:80,height:80,className:"object-cover w-full h-full"})},e.id)):a.jsx("p",{children:"No images available"})})]}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-semibold",children:e.data.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,a.jsxs)("p",{className:"text-3xl font-bold text-red-600",children:["$",g]}),x>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-gray-400 line-through",children:["$",e.data.price]}),(0,a.jsxs)("span",{className:"bg-red-600 text-white text-xs px-2 py-1 rounded",children:["-",x.toFixed(0),"%"]})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[a.jsx("p",{className:"font-medium mb-1",children:"Quantity"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 max-w-xs",children:[a.jsx(i.z,{variant:"outline",onClick:()=>{m>1&&p(m-1)},children:"–"}),a.jsx(n.I,{type:"number",min:1,max:e.data.quantity_in_stock,value:m,onChange:t=>{let r=Number(t.target.value);isNaN(r)||(r<1&&(r=1),r>e.data.quantity_in_stock&&(r=e.data.quantity_in_stock),p(r))},className:"text-center w-16"}),a.jsx(i.z,{variant:"outline",onClick:()=>{m<e.data.quantity_in_stock&&p(m+1)},children:"+"})]}),(0,a.jsxs)("p",{className:"mt-3 text-md text-gray-800",children:[e.data.quantity_in_stock," items available"]})]}),a.jsx("div",{className:"mt-6 flex space-x-4",children:a.jsx(i.z,{className:"flex-1 bg-blue-900 font-bold",size:"lg",disabled:0===e.data.quantity_in_stock,onClick:()=>{h([{id:e.data.id,name:e.data.name,sku:e.data.sku,price:Number(g),quantity:m}])},children:"Add to cart"})}),a.jsx("div",{className:"mt-6 flex space-x-4",children:a.jsx(c.default,{href:"/products/buy",className:"flex-1",children:a.jsx(i.z,{className:"w-full text-white font-bold",size:"lg",children:"View Cart"})})})]})]})}},41190:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var a=r(10326),s=r(17577),i=r(51223);let n=s.forwardRef(({className:e,type:t,...r},s)=>a.jsx("input",{type:t,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));n.displayName="Input"},53296:(e,t,r)=>{"use strict";r.d(t,{p:()=>o,x:()=>n});var a=r(68408),s=r(85251),i=r(11439);let n=(0,a.U)()((0,s.tJ)((e,t)=>({cart:[],addToCart:r=>{let a=t().cart,s=r.filter(e=>a.some(t=>t.id===e.id));if(s.length){i.toast.error(`Product "${s[0].name}" is already in the cart`);return}e({cart:[...a,...r],timestamp:Date.now()}),i.toast.success("Products added to cart!")},removeFromCart:t=>e(e=>({cart:e.cart.filter(e=>e.id!==t)})),clearCart:()=>e({cart:[]})}),{name:"products_cart_storage",storage:void 0,migrate:e=>e?e.timestamp&&Date.now()-e.timestamp>864e5?{cart:[]}:e:{cart:[]}})),o=(0,a.U)()(e=>({facility:{},setFacility:t=>e({facility:t}),clearFacility:()=>e({facility:{}})}))},27162:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var a=r(71159);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:n,iconNode:c,...u},m)=>(0,a.createElement)("svg",{ref:m,...d,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:o("lucide",i),...!n&&!l(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(n)?n:[n]])),u=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...i},l)=>(0,a.createElement)(c,{ref:l,iconNode:t,className:o(`lucide-${s(n(e))}`,`lucide-${e}`,r),...i}));return r.displayName=n(e),r}},71915:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(19510),s=r(71615),i=r(50218);let n=(0,r(68570).createProxy)(String.raw`A:\peopleForTek\member management backend\Member-Management-Nextjs\src\components\products\ProductDetails.tsx#default`),o=(0,r(27162).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);async function l({params:e}){let t=(0,s.cookies)(),r=t.get("access_token")?.value||"",l=null;try{let{data:t}=await i.Z.get(`/api/product/v1/products/${e.id}/`,{headers:{Cookie:`access_token=${r}`}});l=t}catch(t){console.error(`Failed to fetch product ID: ${e.id}`,t)}return l?a.jsx("div",{className:"p-6 space-y-6",children:a.jsx(n,{product:l})}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[a.jsx(o,{className:"w-12 h-12 text-red-500 mb-4"}),a.jsx("h2",{className:"text-2xl font-semibold text-red-600 mb-2",children:"Product Not Found"}),(0,a.jsxs)("p",{className:"text-gray-600 max-w-md",children:["We couldn’t find the product you’re looking for. It might have been removed, or the ID ",a.jsx("span",{className:"font-mono",children:e.id})," is invalid."]}),a.jsx("a",{href:"/products",className:"mt-6 inline-block px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Back to Products"})]})}},50218:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=r(29712).Z.create({baseURL:"http://192.168.0.102:8000",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0})},85251:(e,t,r)=>{"use strict";r.d(t,{tJ:()=>s});let a=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>a(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>a(t)(e)}}},s=(e,t)=>(r,s,i)=>{let n,o={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=r.getItem(e))?t:null;return s instanceof Promise?s.then(a):a(s)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1,d=new Set,c=new Set,u=o.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)},s,i);let m=()=>{let e=o.partialize({...s()});return u.setItem(o.name,{state:e,version:o.version})},p=i.setState;i.setState=(e,t)=>{p(e,t),m()};let h=e((...e)=>{r(...e),m()},s,i);i.getInitialState=()=>h;let x=()=>{var e,t;if(!u)return;l=!1,d.forEach(e=>{var t;return e(null!=(t=s())?t:h)});let i=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=s())?e:h))||void 0;return a(u.getItem.bind(u))(o.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[a,i]=e;if(r(n=o.merge(i,null!=(t=s())?t:h),!0),a)return m()}).then(()=>{null==i||i(n,void 0),n=s(),l=!0,c.forEach(e=>e(n))}).catch(e=>{null==i||i(void 0,e)})};return i.persist={setOptions:e=>{o={...o,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>l,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},o.skipHydration||x(),n||h}},68408:(e,t,r)=>{"use strict";r.d(t,{U:()=>l});var a=r(17577);let s=e=>{let t;let r=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,i={setState:a,getState:s,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e))},n=t=e(a,s,i);return i},i=e=>e?s(e):s,n=e=>e,o=e=>{let t=i(e),r=e=>(function(e,t=n){let r=a.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return a.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},l=e=>e?o(e):o}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,2144,9314,5584,7134,2315,5917,2721],()=>r(56286));module.exports=a})();