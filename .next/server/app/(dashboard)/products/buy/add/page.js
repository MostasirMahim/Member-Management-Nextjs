(()=>{var e={};e.id=5270,e.ids=[5270],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},88062:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>l}),r(71436),r(6989),r(80774),r(35866),r(27653);var a=r(23191),s=r(88716),n=r(37922),i=r.n(n),o=r(95231),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let l=["",{children:["(dashboard)",{children:["products",{children:["buy",{children:["add",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,71436)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\products\\buy\\add\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6989)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,80774)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,27653)),"A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["A:\\peopleForTek\\member management backend\\Member-Management-Nextjs\\src\\app\\(dashboard)\\products\\buy\\add\\page.tsx"],u="/(dashboard)/products/buy/add/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(dashboard)/products/buy/add/page",pathname:"/products/buy/add",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4368:(e,t,r)=>{Promise.resolve().then(r.bind(r,58402))},58402:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var a=r(10326),s=r(17577),n=r(11439),i=r(35047),o=r(53296),c=r(29752),l=r(41156),d=r(91664),u=r(38443),p=r(69654),m=r(41190),h=r(48705),x=r(34981),f=r(64535);function g({products:e}){let t=(0,i.useRouter)(),r=(0,i.useSearchParams)(),g=(0,o.x)(e=>e.addToCart),b=r.get("search")||"",y=r.get("category")||"all",j=r.get("brand")||"all",v=parseInt(r.get("page")||"1",10),k=e?.data?.filter(e=>(!b||!!e.name.toLowerCase().includes(b.toLowerCase()))&&("all"===y||e.category===y)&&("all"===j||e.brand===j)),w=Math.ceil(k?.length/10),N=v>w?1:v,P=k?.slice((N-1)*10,10*N),S=e=>{if(e<1||e>w)return;let a=new URLSearchParams(Array.from(r.entries()));a.set("page",e.toString()),t.push(`?${a.toString()}`)},[C,q]=(0,s.useState)({}),_=e=>{q(t=>({...t,[e]:{checked:!t[e]?.checked,quantity:t[e]?.quantity||1}}))},I=(e,t)=>{q(r=>({...r,[e]:{checked:r[e]?.checked||!1,quantity:t}}))};return(0,a.jsxs)("div",{children:[(0,a.jsxs)(c.Ol,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[a.jsx(h.Z,{className:"h-6 w-6 opacity-75"}),a.jsx(c.ll,{className:"text-xl font-bold opacity-75",children:"Add Products to Cart"})]}),a.jsx(x.a,{filterOptions:{categories:Array.from(new Set(e?.data?.map(e=>e.category))),brands:Array.from(new Set(e?.data?.map(e=>e.brand)))}})]}),(0,a.jsxs)(l.iA,{className:"w-full text-sm text-gray-700",children:[a.jsx(l.xD,{className:"bg-gray-100",children:(0,a.jsxs)(l.SC,{children:[a.jsx(l.ss,{children:"Checkbox"}),a.jsx(l.ss,{children:"Name"}),a.jsx(l.ss,{children:"Price"}),a.jsx(l.ss,{children:"Stock"}),a.jsx(l.ss,{children:"SKU"}),a.jsx(l.ss,{children:"Status"}),a.jsx(l.ss,{children:"Quantity"})]})}),a.jsx(l.RM,{children:P.map(e=>(0,a.jsxs)(l.SC,{className:"hover:bg-indigo-50",children:[a.jsx(l.pj,{children:a.jsx(p.X,{checked:C[e.id]?.checked||!1,onCheckedChange:()=>_(e.id)})}),a.jsx(l.pj,{className:"font-semibold",children:e.name}),(0,a.jsxs)(l.pj,{children:["$",e.price]}),a.jsx(l.pj,{children:e.quantity_in_stock>0?(0,a.jsxs)(u.C,{className:"bg-green-500 text-white",children:[e.quantity_in_stock," in stock"]}):a.jsx(u.C,{className:"bg-red-500 text-white",children:"Out of stock"})}),a.jsx(l.pj,{children:e.sku}),a.jsx(l.pj,{children:a.jsx(u.C,{className:e.is_active?"bg-green-600 text-white":"bg-red-500 text-white",children:e.is_active?"Active":"Inactive"})}),a.jsx(l.pj,{children:a.jsx(m.I,{type:"number",min:1,value:C[e.id]?.quantity||"",onChange:t=>I(e.id,Number(t.target.value)),disabled:!C[e.id]?.checked})})]},e.id))}),a.jsx(l.yt,{children:a.jsx(l.SC,{children:a.jsx(l.pj,{colSpan:7,className:"text-center",children:a.jsx(d.z,{variant:"outline",className:"w-full mt-5 text-white bg-blue-500",onClick:()=>{let t=P.filter(e=>C[e.id]?.checked).map(e=>({id:e.id,name:e.name,sku:e.sku,price:Number(e.price),quantity:C[e.id]?.quantity||1}));if(!t.length)return n.toast.error("Please select at least one product");for(let r of t){if(!r.quantity||r.quantity<=0)return n.toast.error("Please enter quantity for all selected products");if(r.quantity>e?.data?.find(e=>e.id===r.id)?.quantity_in_stock)return n.toast.error(`Insufficient stock for ${r.name}`)}g(t)},children:"Add Selected to Cart"})})})})]}),(0,a.jsxs)(f.tl,{className:"mt-4 justify-center flex cursor-pointer",children:[a.jsx(f.dN,{onClick:()=>S(N-1)}),a.jsx(f.ng,{children:Array.from({length:w}).map((e,t)=>{let r=t+1;return a.jsx(f.nt,{onClick:()=>S(r),children:a.jsx(f.kN,{children:r})},r)})}),a.jsx(f.$0,{onClick:()=>S(N+1)})]})]})}},69654:(e,t,r)=>{"use strict";r.d(t,{X:()=>I});var a=r(10326),s=r(17577),n=r(48051),i=r(93095),o=r(82561),c=r(52067),l=r(53405),d=r(2566),u=r(9815),p=r(45226),m="Checkbox",[h,x]=(0,i.b)(m),[f,g]=h(m);function b(e){let{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:o,form:l,name:d,onCheckedChange:u,required:p,value:h="on",internal_do_not_use_render:x}=e,[g,b]=(0,c.T)({prop:r,defaultProp:i??!1,onChange:u,caller:m}),[y,j]=s.useState(null),[v,k]=s.useState(null),w=s.useRef(!1),N=!y||!!l||!!y.closest("form"),P={checked:g,disabled:o,setChecked:b,control:y,setControl:j,name:d,form:l,value:h,hasConsumerStoppedPropagationRef:w,required:p,defaultChecked:!S(i)&&i,isFormControl:N,bubbleInput:v,setBubbleInput:k};return(0,a.jsx)(f,{scope:t,...P,children:"function"==typeof x?x(P):n})}var y="CheckboxTrigger",j=s.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...i},c)=>{let{control:l,value:d,disabled:u,checked:m,required:h,setControl:x,setChecked:f,hasConsumerStoppedPropagationRef:b,isFormControl:j,bubbleInput:v}=g(y,e),k=(0,n.e)(c,x),w=s.useRef(m);return s.useEffect(()=>{let e=l?.form;if(e){let t=()=>f(w.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[l,f]),(0,a.jsx)(p.WV.button,{type:"button",role:"checkbox","aria-checked":S(m)?"mixed":m,"aria-required":h,"data-state":C(m),"data-disabled":u?"":void 0,disabled:u,value:d,...i,ref:k,onKeyDown:(0,o.M)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,o.M)(r,e=>{f(e=>!!S(e)||!e),v&&j&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})});j.displayName=y;var v=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:s,checked:n,defaultChecked:i,required:o,disabled:c,value:l,onCheckedChange:d,form:u,...p}=e;return(0,a.jsx)(b,{__scopeCheckbox:r,checked:n,defaultChecked:i,disabled:c,required:o,onCheckedChange:d,name:s,form:u,value:l,internal_do_not_use_render:({isFormControl:e})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{...p,ref:t,__scopeCheckbox:r}),e&&(0,a.jsx)(P,{__scopeCheckbox:r})]})})});v.displayName=m;var k="CheckboxIndicator",w=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...n}=e,i=g(k,r);return(0,a.jsx)(u.z,{present:s||S(i.checked)||!0===i.checked,children:(0,a.jsx)(p.WV.span,{"data-state":C(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});w.displayName=k;var N="CheckboxBubbleInput",P=s.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:i,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:u,required:m,disabled:h,name:x,value:f,form:b,bubbleInput:y,setBubbleInput:j}=g(N,e),v=(0,n.e)(r,j),k=(0,l.D)(c),w=(0,d.t)(i);s.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!o.current;if(k!==c&&e){let r=new Event("click",{bubbles:t});y.indeterminate=S(c),e.call(y,!S(c)&&c),y.dispatchEvent(r)}},[y,k,c,o]);let P=s.useRef(!S(c)&&c);return(0,a.jsx)(p.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??P.current,required:m,disabled:h,name:x,value:f,form:b,...t,tabIndex:-1,ref:v,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(e){return"indeterminate"===e}function C(e){return S(e)?"indeterminate":e?"checked":"unchecked"}P.displayName=N;var q=r(32933),_=r(51223);let I=s.forwardRef(({className:e,...t},r)=>a.jsx(v,{ref:r,className:(0,_.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(w,{className:(0,_.cn)("flex items-center justify-center text-current"),children:a.jsx(q.Z,{className:"h-4 w-4"})})}));I.displayName=v.displayName},53296:(e,t,r)=>{"use strict";r.d(t,{p:()=>o,x:()=>i});var a=r(68408),s=r(85251),n=r(11439);let i=(0,a.U)()((0,s.tJ)((e,t)=>({cart:[],addToCart:r=>{let a=t().cart,s=r.filter(e=>a.some(t=>t.id===e.id));if(s.length){n.toast.error(`Product "${s[0].name}" is already in the cart`);return}e({cart:[...a,...r],timestamp:Date.now()}),n.toast.success("Products added to cart!")},removeFromCart:t=>e(e=>({cart:e.cart.filter(e=>e.id!==t)})),clearCart:()=>e({cart:[]})}),{name:"products_cart_storage",storage:void 0,migrate:e=>e?e.timestamp&&Date.now()-e.timestamp>864e5?{cart:[]}:e:{cart:[]}})),o=(0,a.U)()(e=>({facility:{},setFacility:t=>e({facility:t}),clearFacility:()=>e({facility:{}})}))},71436:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(19510);let s=(0,r(68570).createProxy)(String.raw`A:\peopleForTek\member management backend\Member-Management-Nextjs\src\components\products\buy\AddPurchaseProduct.tsx#default`);var n=r(50218),i=r(71615);async function o(){let e=(0,i.cookies)(),t=e.get("access_token")?.value||"",r=[];try{let{data:e}=await n.Z.get("/api/product/v1/products/",{headers:{Cookie:`access_token=${t}`}});r=e}catch(e){console.error("Failed to fetch products",e)}return a.jsx("div",{className:"p-6 space-y-6",children:a.jsx(s,{products:r})})}},85251:(e,t,r)=>{"use strict";r.d(t,{tJ:()=>s});let a=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>a(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>a(t)(e)}}},s=(e,t)=>(r,s,n)=>{let i,o={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=r.getItem(e))?t:null;return s instanceof Promise?s.then(a):a(s)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},c=!1,l=new Set,d=new Set,u=o.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)},s,n);let p=()=>{let e=o.partialize({...s()});return u.setItem(o.name,{state:e,version:o.version})},m=n.setState;n.setState=(e,t)=>{m(e,t),p()};let h=e((...e)=>{r(...e),p()},s,n);n.getInitialState=()=>h;let x=()=>{var e,t;if(!u)return;c=!1,l.forEach(e=>{var t;return e(null!=(t=s())?t:h)});let n=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=s())?e:h))||void 0;return a(u.getItem.bind(u))(o.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[a,n]=e;if(r(i=o.merge(n,null!=(t=s())?t:h),!0),a)return p()}).then(()=>{null==n||n(i,void 0),i=s(),c=!0,d.forEach(e=>e(i))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{o={...o,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>c,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},o.skipHydration||x(),i||h}},68408:(e,t,r)=>{"use strict";r.d(t,{U:()=>c});var a=r(17577);let s=e=>{let t;let r=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,n={setState:a,getState:s,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(a,s,n);return n},n=e=>e?s(e):s,i=e=>e,o=e=>{let t=n(e),r=e=>(function(e,t=i){let r=a.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return a.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},c=e=>e?o(e):o}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,2144,9314,5584,7134,2315,4924,5917,2721,5601],()=>r(88062));module.exports=a})();