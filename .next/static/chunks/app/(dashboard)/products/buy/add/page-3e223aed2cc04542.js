(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5270],{42665:function(e,t,r){Promise.resolve().then(r.bind(r,44593))},13641:function(e,t,r){"use strict";r.d(t,{a:function(){return f}});var a=r(57437),n=r(2265),s=r(99376),l=r(73247),i=r(3577),c=r(52636),d=r(32060),o=r(12381),u=r(40279),x=r(15291),h=r(75060);function f(e){let{filterOptions:t}=e,r=(0,s.useRouter)(),f=(0,s.useSearchParams)(),[m,p]=(0,n.useState)(f.get("search")||""),[j,g]=(0,n.useState)(f.get("category")||"all"),[v,N]=(0,n.useState)(f.get("brand")||"all"),y=()=>{let e=new URLSearchParams(f.toString());e.set("page","1"),m?e.set("search",m):e.delete("search"),r.push("?".concat(e.toString()))};return(0,a.jsx)("div",{className:"flex flex-col sm:flex-wrap gap-4",children:(0,a.jsxs)("div",{className:"flex-1 flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(l.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u.I,{type:"search",placeholder:"Search products...",className:"pl-8",value:m,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&y()}})]}),(0,a.jsxs)(d.DropdownMenu,{children:[(0,a.jsx)(d.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"outline",className:"gap-1",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"})," Filter"]})}),(0,a.jsxs)(d.DropdownMenuContent,{align:"end",className:"w-[200px]",children:[(0,a.jsx)(d.Ju,{children:"Filter Products"}),(0,a.jsx)(d.VD,{}),(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsx)(h._,{htmlFor:"category-filter",className:"text-xs",children:"Category"}),(0,a.jsxs)(x.Ph,{value:j,onValueChange:e=>{let t=new URLSearchParams(f.toString());t.set("page","1"),"all"!==e?t.set("category",e):t.delete("category"),g(e),r.push("?".concat(t.toString()))},children:[(0,a.jsx)(x.i4,{id:"category-filter",children:(0,a.jsx)(x.ki,{placeholder:"Select category"})}),(0,a.jsxs)(x.Bw,{children:[(0,a.jsx)(x.Ql,{value:"all",children:"All Categories"}),t.categories.map(e=>(0,a.jsx)(x.Ql,{value:e,children:e},e))]})]})]}),(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsx)(h._,{htmlFor:"brand-filter",className:"text-xs",children:"Brand"}),(0,a.jsxs)(x.Ph,{value:v,onValueChange:e=>{let t=new URLSearchParams(f.toString());t.set("page","1"),"all"!==e?t.set("brand",e):t.delete("brand"),N(e),r.push("?".concat(t.toString()))},children:[(0,a.jsx)(x.i4,{id:"brand-filter",children:(0,a.jsx)(x.ki,{placeholder:"Select brand"})}),(0,a.jsxs)(x.Bw,{children:[(0,a.jsx)(x.Ql,{value:"all",children:"All Brands"}),t.brands.map(e=>(0,a.jsx)(x.Ql,{value:e,children:e},e))]})]})]}),(0,a.jsx)(d.VD,{}),(0,a.jsxs)(d.DropdownMenuItem,{onClick:()=>{p(""),g("all"),N("all"),r.push("?page=1")},children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4"})," Reset Filters"]})]})]}),(0,a.jsx)(o.z,{onClick:y,className:"sm:hidden",children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})]})})}},44593:function(e,t,r){"use strict";r.d(t,{default:function(){return j}});var a=r(57437),n=r(2265),s=r(94242),l=r(99376),i=r(47949),c=r(79820),d=r(33804),o=r(12381),u=r(69174),x=r(68245),h=r(40279),f=r(44794),m=r(13641),p=r(35174);function j(e){var t,r,j;let{products:g}=e,v=(0,l.useRouter)(),N=(0,l.useSearchParams)(),y=(0,i.x)(e=>e.addToCart),w=N.get("search")||"",b=N.get("category")||"all",k=N.get("brand")||"all",C=parseInt(N.get("page")||"1",10),S=null==g?void 0:null===(t=g.data)||void 0===t?void 0:t.filter(e=>(!w||!!e.name.toLowerCase().includes(w.toLowerCase()))&&("all"===b||e.category===b)&&("all"===k||e.brand===k)),_=Math.ceil((null==S?void 0:S.length)/10),P=C>_?1:C,R=null==S?void 0:S.slice((P-1)*10,10*P),q=e=>{if(e<1||e>_)return;let t=new URLSearchParams(Array.from(N.entries()));t.set("page",e.toString()),v.push("?".concat(t.toString()))},[D,A]=(0,n.useState)({}),F=e=>{A(t=>{var r,a;return{...t,[e]:{checked:!(null===(r=t[e])||void 0===r?void 0:r.checked),quantity:(null===(a=t[e])||void 0===a?void 0:a.quantity)||1}}})},Z=(e,t)=>{A(r=>{var a;return{...r,[e]:{checked:(null===(a=r[e])||void 0===a?void 0:a.checked)||!1,quantity:t}}})};return(0,a.jsxs)("div",{children:[(0,a.jsxs)(c.Ol,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-6 w-6 opacity-75"}),(0,a.jsx)(c.ll,{className:"text-xl font-bold opacity-75",children:"Add Products to Cart"})]}),(0,a.jsx)(m.a,{filterOptions:{categories:Array.from(new Set(null==g?void 0:null===(r=g.data)||void 0===r?void 0:r.map(e=>e.category))),brands:Array.from(new Set(null==g?void 0:null===(j=g.data)||void 0===j?void 0:j.map(e=>e.brand)))}})]}),(0,a.jsxs)(d.iA,{className:"w-full text-sm text-gray-700",children:[(0,a.jsx)(d.xD,{className:"bg-gray-100",children:(0,a.jsxs)(d.SC,{children:[(0,a.jsx)(d.ss,{children:"Checkbox"}),(0,a.jsx)(d.ss,{children:"Name"}),(0,a.jsx)(d.ss,{children:"Price"}),(0,a.jsx)(d.ss,{children:"Stock"}),(0,a.jsx)(d.ss,{children:"SKU"}),(0,a.jsx)(d.ss,{children:"Status"}),(0,a.jsx)(d.ss,{children:"Quantity"})]})}),(0,a.jsx)(d.RM,{children:R.map(e=>{var t,r,n;return(0,a.jsxs)(d.SC,{className:"hover:bg-indigo-50",children:[(0,a.jsx)(d.pj,{children:(0,a.jsx)(x.X,{checked:(null===(t=D[e.id])||void 0===t?void 0:t.checked)||!1,onCheckedChange:()=>F(e.id)})}),(0,a.jsx)(d.pj,{className:"font-semibold",children:e.name}),(0,a.jsxs)(d.pj,{children:["$",e.price]}),(0,a.jsx)(d.pj,{children:e.quantity_in_stock>0?(0,a.jsxs)(u.C,{className:"bg-green-500 text-white",children:[e.quantity_in_stock," in stock"]}):(0,a.jsx)(u.C,{className:"bg-red-500 text-white",children:"Out of stock"})}),(0,a.jsx)(d.pj,{children:e.sku}),(0,a.jsx)(d.pj,{children:(0,a.jsx)(u.C,{className:e.is_active?"bg-green-600 text-white":"bg-red-500 text-white",children:e.is_active?"Active":"Inactive"})}),(0,a.jsx)(d.pj,{children:(0,a.jsx)(h.I,{type:"number",min:1,value:(null===(r=D[e.id])||void 0===r?void 0:r.quantity)||"",onChange:t=>Z(e.id,Number(t.target.value)),disabled:!(null===(n=D[e.id])||void 0===n?void 0:n.checked)})})]},e.id)})}),(0,a.jsx)(d.yt,{children:(0,a.jsx)(d.SC,{children:(0,a.jsx)(d.pj,{colSpan:7,className:"text-center",children:(0,a.jsx)(o.z,{variant:"outline",className:"w-full mt-5 text-white bg-blue-500",onClick:()=>{let e=R.filter(e=>{var t;return null===(t=D[e.id])||void 0===t?void 0:t.checked}).map(e=>{var t;return{id:e.id,name:e.name,sku:e.sku,price:Number(e.price),quantity:(null===(t=D[e.id])||void 0===t?void 0:t.quantity)||1}});if(!e.length)return s.toast.error("Please select at least one product");for(let a of e){var t,r;if(!a.quantity||a.quantity<=0)return s.toast.error("Please enter quantity for all selected products");if(a.quantity>(null==g?void 0:null===(r=g.data)||void 0===r?void 0:null===(t=r.find(e=>e.id===a.id))||void 0===t?void 0:t.quantity_in_stock))return s.toast.error("Insufficient stock for ".concat(a.name))}y(e)},children:"Add Selected to Cart"})})})})]}),(0,a.jsxs)(p.tl,{className:"mt-4 justify-center flex cursor-pointer",children:[(0,a.jsx)(p.dN,{onClick:()=>q(P-1)}),(0,a.jsx)(p.ng,{children:Array.from({length:_}).map((e,t)=>{let r=t+1;return(0,a.jsx)(p.nt,{onClick:()=>q(r),children:(0,a.jsx)(p.kN,{children:r})},r)})}),(0,a.jsx)(p.$0,{onClick:()=>q(P+1)})]})]})}},79820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},eW:function(){return u},ll:function(){return c}});var a=r(57437),n=r(2265),s=r(93448);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("font-semibold leading-none tracking-tight",r),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});o.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},68245:function(e,t,r){"use strict";r.d(t,{X:function(){return c}});var a=r(57437),n=r(2265),s=r(9270),l=r(30401),i=r(93448);let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.fC,{ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...n,children:(0,a.jsx)(s.z$,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})})});c.displayName=s.fC.displayName},75060:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var a=r(57437),n=r(2265),s=r(6394),l=r(90535),i=r(93448);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.f,{ref:t,className:(0,i.cn)(c(),r),...n})});d.displayName=s.f.displayName},35174:function(e,t,r){"use strict";r.d(t,{$0:function(){return h},dN:function(){return x},kN:function(){return u},ng:function(){return d},nt:function(){return o},tl:function(){return c}});var a=r(57437);r(2265);var n=r(92451),s=r(10407),l=r(93448),i=r(12381);function c(e){let{className:t,...r}=e;return(0,a.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,l.cn)("mx-auto flex w-full justify-center",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("ul",{"data-slot":"pagination-content",className:(0,l.cn)("flex flex-row items-center gap-1",t),...r})}function o(e){let{...t}=e;return(0,a.jsx)("li",{"data-slot":"pagination-item",...t})}function u(e){let{className:t,isActive:r,size:n="icon",...s}=e;return(0,a.jsx)("a",{"aria-current":r?"page":void 0,"data-slot":"pagination-link","data-active":r,className:(0,l.cn)((0,i.d)({variant:r?"outline":"ghost",size:n}),t),...s})}function x(e){let{className:t,...r}=e;return(0,a.jsxs)(u,{"aria-label":"Go to previous page",size:"default",className:(0,l.cn)("gap-1 px-2.5 sm:pl-2.5",t),...r,children:[(0,a.jsx)(n.Z,{}),(0,a.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function h(e){let{className:t,...r}=e;return(0,a.jsxs)(u,{"aria-label":"Go to next page",size:"default",className:(0,l.cn)("gap-1 px-2.5 sm:pr-2.5",t),...r,children:[(0,a.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,a.jsx)(s.Z,{})]})}},47949:function(e,t,r){"use strict";r.d(t,{p:function(){return i},x:function(){return l}});var a=r(3011),n=r(89134),s=r(94242);let l=(0,a.U)()((0,n.tJ)((e,t)=>({cart:[],addToCart:r=>{let a=t().cart,n=r.filter(e=>a.some(t=>t.id===e.id));if(n.length){s.toast.error('Product "'.concat(n[0].name,'" is already in the cart'));return}e({cart:[...a,...r],timestamp:Date.now()}),s.toast.success("Products added to cart!")},removeFromCart:t=>e(e=>({cart:e.cart.filter(e=>e.id!==t)})),clearCart:()=>e({cart:[]})}),{name:"products_cart_storage",storage:(0,n.FL)(()=>localStorage),migrate:e=>e?e.timestamp&&Date.now()-e.timestamp>864e5?{cart:[]}:e:{cart:[]}})),i=(0,a.U)()(e=>({facility:{},setFacility:t=>e({facility:t}),clearFacility:()=>e({facility:{}})}))}},function(e){e.O(0,[7317,4242,5844,9049,8068,9859,5763,5184,3304,761,2971,2117,1744],function(){return e(e.s=42665)}),_N_E=e.O()}]);