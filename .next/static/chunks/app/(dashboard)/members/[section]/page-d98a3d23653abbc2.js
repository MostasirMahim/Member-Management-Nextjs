(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1054],{61012:function(e,s,t){Promise.resolve().then(t.bind(t,80207)),Promise.resolve().then(t.bind(t,93036)),Promise.resolve().then(t.bind(t,66584)),Promise.resolve().then(t.bind(t,63807))},92451:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},67782:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},61649:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]])},3577:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},65621:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},45675:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},73247:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},57356:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("train-track",[["path",{d:"M2 17 17 2",key:"18b09t"}],["path",{d:"m2 14 8 8",key:"1gv9hu"}],["path",{d:"m5 11 8 8",key:"189pqp"}],["path",{d:"m8 8 8 8",key:"1imecy"}],["path",{d:"m11 5 8 8",key:"ummqn6"}],["path",{d:"m14 2 8 8",key:"1vk7dn"}],["path",{d:"M7 22 22 7",key:"15mb1i"}]])},65781:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("user-round-search",[["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"m22 22-1.9-1.9",key:"1e5ubv"}]])},95805:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},93036:function(e,s,t){"use strict";var a=t(57437),r=t(2265),l=t(61649),n=t(73247),i=t(3577),c=t(65781),d=t(31047),o=t(95805),m=t(67782),x=t(45675),h=t(57356),u=t(18930),j=t(12381),p=t(40279),f=t(32060),b=t(33804),g=t(69174),N=t(15291),v=t(75060),y=t(54761),k=t(17336),w=t(99376),_=t(35174),C=t(69417),D=t(12749),S=t(46291),Z=t(52255),I=t(81500),M=t(79820),A=t(80225),P=t(64910),B=t(21770),z=t(88231),L=t(94242);let T={date_of_birth:void 0,membership_type:"",membership_status:"",blood_group:"",gender:"",institute_name:"",marital_status:"",download_excel:void 0,nationality:"",contact_number:"",email:"",member_ID:"",name:""};s.default=function(){let[e,s]=(0,r.useState)(""),[t,F]=(0,r.useState)(!1),[Q,R]=(0,r.useState)(null),{setMemberID:E,memberID:O,setIsUpdateMode:V,isUpdateMode:U}=(0,C.Xm)(),q=(0,w.useSearchParams)(),G=(0,A.e3)(),[W,H]=(0,r.useState)(T),[J,$]=(0,r.useState)(!1),[Y,K]=(0,r.useState)(!1),X=Number(q.get("page"))||1,{data:ee,isLoading:es,refetch:et,isFetching:ea}=(0,k.Z)(X,W,1),er=null==ee?void 0:ee.data,el=null==ee?void 0:ee.pagination,{current_page:en,total_pages:ei}=el||{},{data:ec}=(0,I.Z)(),{membership_type:ed,institute_name:eo,gender:em,membership_status:ex,marital_status:eh}=null!=ec?ec:{},{mutate:eu,isPending:ej}=(0,B.D)({mutationFn:async e=>{let s=await z.Z.delete("/api/member/v1/members/".concat(e,"/"));return 204===s.status&&(L.toast.success("Member deleted successfully"),et(),F(!1),R(null)),s.data},onError:e=>{console.log("error",null==e?void 0:e.response);let{message:s,errors:t,detail:a}=null==e?void 0:e.response.data;t?t&&"object"==typeof t&&(Object.entries(t).forEach(e=>{let[s,t]=e;Array.isArray(t)&&L.toast.error(s,t[0])}),L.toast.error(a||s||"Member Delete Failed")):L.toast.error(a||s||"Member Delete Failed")}}),ep=(e,s)=>{H(t=>({...t,[e]:s}))},ef=()=>{H(T),s(""),setTimeout(()=>et(),0)},eb=(null==er?void 0:er.filter(s=>s.first_name.toLowerCase().includes(e.toLowerCase())||s.last_name.toLowerCase().includes(e.toLowerCase())||s.member_ID.toLowerCase().includes(e.toLowerCase())))||[],eg=(0,w.useRouter)(),eN=e=>{eg.push("/member/view/".concat(e))},ev=e=>{e!==en&&(eg.push("?page=".concat(e)),eg.refresh())},ey=e=>{E(e),V(!0),eg.push("/member/update/".concat(e))},ek=e=>{eg.push("/member/transferID/".concat(e))},ew=e=>{eu(e)};return es?(0,a.jsx)(y.xg,{}):(0,a.jsxs)("div",{className:"space-y-6 ",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"ALL Members"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"A list of all members in the system."})]}),(0,a.jsx)("div",{children:(0,a.jsxs)(j.z,{className:"gap-1",onClick:()=>{(0,k.c)(X,W),et()},children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),"Export"]})})]}),(0,a.jsxs)("div",{className:"w-full  ".concat(J?"shadow-lg border rounded-lg":""),children:[(0,a.jsxs)("div",{className:"flex gap-2 ",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(p.I,{type:"search",placeholder:"Search users...",className:"pl-10 border-0 bg-background focus-visible:ring-0 focus-visible:ring-offset-0 h-10",value:e,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)(j.z,{variant:"outline",onClick:()=>{$(!J),J||K(!1)},className:"gap-2 border-0 bg-background h-10 hover:bg-primary hover:text-primary-foreground focus-visible:ring-0 focus-visible:ring-offset-0",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),"Filter"]}),(0,a.jsxs)(j.z,{variant:"outline",onClick:()=>{K(!Y),Y||$(!1)},className:"gap-2 border-0 bg-background h-10 hover:bg-primary hover:text-primary-foreground focus-visible:ring-0 focus-visible:ring-offset-0",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),"Query"]})]}),J&&(0,a.jsx)("div",{className:"border-t-2 rounded-b-md mt-1 border-primary bg-background p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(v._,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),"Date of Birth"]}),(0,a.jsxs)(D.J2,{children:[(0,a.jsx)(D.xo,{asChild:!0,children:(0,a.jsxs)(j.z,{variant:"outline",className:"w-full justify-start text-left font-normal bg-transparent",children:[(0,a.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),W.date_of_birth?(0,Z.WU)(W.date_of_birth,"PPP"):(0,a.jsx)("span",{children:"Pick a date"})]})}),(0,a.jsx)(D.yk,{className:"w-auto p-0",children:(0,a.jsx)(S.f,{mode:"single",captionLayout:"dropdown",selected:W.date_of_birth,onSelect:e=>{e&&ep("date_of_birth",(0,Z.WU)(e,"yyyy-MM-dd"))},initialFocus:!0})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Membership Type"}),(0,a.jsxs)(N.Ph,{value:W.membership_type,onValueChange:e=>ep("membership_type",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"Choose Membership Type"})}),(0,a.jsx)(N.Bw,{children:null==ed?void 0:ed.map((e,s)=>(0,a.jsx)(N.Ql,{value:e.name,children:e.name},s))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Membership Status"}),(0,a.jsxs)(N.Ph,{value:W.membership_status,onValueChange:e=>ep("membership_status",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"Choose Membership Status"})}),(0,a.jsx)(N.Bw,{children:null==ex?void 0:ex.map((e,s)=>(0,a.jsx)(N.Ql,{value:e.name,children:e.name},s))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Blood Group"}),(0,a.jsxs)(N.Ph,{value:W.blood_group,onValueChange:e=>ep("blood_group",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"Choose Blood Group"})}),(0,a.jsxs)(N.Bw,{children:[(0,a.jsx)(N.Ql,{value:"A+",children:"A+"}),(0,a.jsx)(N.Ql,{value:"A-",children:"A-"}),(0,a.jsx)(N.Ql,{value:"B+",children:"B+"}),(0,a.jsx)(N.Ql,{value:"B-",children:"B-"}),(0,a.jsx)(N.Ql,{value:"AB+",children:"AB+"}),(0,a.jsx)(N.Ql,{value:"AB-",children:"AB-"}),(0,a.jsx)(N.Ql,{value:"O+",children:"O+"}),(0,a.jsx)(N.Ql,{value:"O-",children:"O-"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Institute Name"}),(0,a.jsxs)(N.Ph,{value:W.institute_name,onValueChange:e=>ep("institute_name",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"Choose Institute"})}),(0,a.jsx)(N.Bw,{children:null==eo?void 0:eo.map((e,s)=>(0,a.jsxs)(N.Ql,{value:e.name,children:[e.name," - ",e.code]},s))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Marital Status"}),(0,a.jsxs)(N.Ph,{value:W.marital_status,onValueChange:e=>ep("marital_status",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"What's Marital Status?"})}),(0,a.jsx)(N.Bw,{children:null==eh?void 0:eh.map((e,s)=>(0,a.jsx)(N.Ql,{value:e.name,children:e.name},s))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Gender"}),(0,a.jsxs)(N.Ph,{value:W.gender,onValueChange:e=>ep("gender",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"Choose Gender",children:W.gender})}),(0,a.jsx)(N.Bw,{children:null==em?void 0:em.map((e,s)=>(0,a.jsx)(N.Ql,{value:e.name,children:e.name},s))})]})]}),(0,a.jsxs)("div",{className:" flex items-center justify-center gap-2",children:[(0,a.jsxs)(j.z,{className:"mt-4",onClick:()=>et(),children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),ea?"Filtering...":"Apply"]}),(0,a.jsx)(j.z,{className:"mt-4",variant:"destructive",onClick:()=>ef(),children:"Reset"})]})]})}),Y&&(0,a.jsx)("div",{className:"border-t-2 rounded-b-md mt-1 border-primary bg-background p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium",children:"Member ID"}),(0,a.jsx)(p.I,{type:"text",placeholder:"Search by ID...",className:"bg-background",value:W.member_ID,onChange:e=>ep("member_ID",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium",children:"Name"}),(0,a.jsx)(p.I,{type:"text",placeholder:"Search by name...",className:"bg-background",value:W.name,onChange:e=>ep("name",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium",children:"Contact Number"}),(0,a.jsx)(p.I,{type:"text",placeholder:"Search by contact...",className:"bg-background",value:W.contact_number,onChange:e=>ep("contact_number",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium",children:"Email"}),(0,a.jsx)(p.I,{type:"text",placeholder:"Search by email...",className:"bg-background",value:W.email,onChange:e=>ep("email",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Nationality"}),(0,a.jsxs)(N.Ph,{value:W.nationality,onValueChange:e=>ep("nationality",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"Select Nationality"})}),(0,a.jsx)(N.Bw,{children:null==G?void 0:G.map((e,s)=>(0,a.jsx)(N.Ql,{value:e,children:e},s))})]})]}),(0,a.jsxs)("div",{className:" flex items-center justify-center gap-2",children:[(0,a.jsxs)(j.z,{className:"mt-4",onClick:()=>et(),children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),ea?"Filtering...":"Apply"]}),(0,a.jsx)(j.z,{className:"mt-4",variant:"destructive",onClick:()=>ef(),children:"Reset"})]})]})})]}),(0,a.jsx)("div",{className:"rounded-md border my-2 font-secondary",children:(0,a.jsxs)(b.iA,{className:"",children:[(0,a.jsx)(b.xD,{children:(0,a.jsxs)(b.SC,{className:" text-center font-bold h-14 bg-background border-b-2 border-primary dark:bg-accent",children:[(0,a.jsx)(b.ss,{className:" text-black dark:text-white font-bold  text-center",children:"ID"}),(0,a.jsx)(b.ss,{className:"text-black dark:text-white font-bold",children:"Member"}),(0,a.jsx)(b.ss,{className:"text-black dark:text-white font-bold",children:"Type"}),(0,a.jsx)(b.ss,{className:" text-black dark:text-white font-bold",children:"Status"}),(0,a.jsx)(b.ss,{className:"text-black dark:text-white font-bold",children:"Batch"}),(0,a.jsx)(b.ss,{className:" text-black dark:text-white font-bold text-center",children:"Martial St."}),(0,a.jsx)(b.ss,{className:"text-black dark:text-white font-bold text-center",children:"DOB"}),(0,a.jsx)(b.ss,{className:" text-black dark:text-white font-bold",children:"Blood"}),(0,a.jsx)(b.ss,{className:"text-black dark:text-white font-bold ",children:"Nationality"}),(0,a.jsx)(b.ss,{className:"text-black dark:text-white text-center font-bold",children:"Actions"})]})}),(0,a.jsx)(b.RM,{children:0===eb.length?(0,a.jsx)(b.SC,{children:(0,a.jsx)(b.pj,{colSpan:10,className:"text-center py-8 text-red-500 font-medium",children:(0,a.jsx)(M.Zb,{className:"p-8 text-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)(o.Z,{className:"h-12 w-12 text-muted-foreground"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"No Members Found"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No members match your current filter criteria. Try adjusting your filters or reset to see all members."})]}),(0,a.jsxs)(j.z,{onClick:()=>{H(T),s(""),$(!1),setTimeout(()=>et(),0)},variant:"outline",className:"gap-2 bg-transparent text-green-600",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),ea?"Retrying Search..":"Reset Filters"]})]})})})}):eb.map(e=>(0,a.jsxs)(b.SC,{className:"cursor-pointer hover:translate-y-1 transition-transform duration-300 ease-in-out bg-background ",children:[(0,a.jsx)(b.pj,{className:"font-medium ",onClick:()=>eN(e.member_ID),children:e.member_ID}),(0,a.jsx)(b.pj,{className:"flex justify-start items-center",onClick:()=>eN(e.member_ID),children:(0,a.jsxs)("div",{className:"space-y-1 ",children:[(0,a.jsx)("p",{className:"font-medium text-left",children:e.first_name+" "+e.last_name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-left",children:e.institute_name})]})}),(0,a.jsx)(b.pj,{onClick:()=>eN(e.member_ID),children:(0,a.jsx)("p",{children:e.membership_type})}),(0,a.jsx)(b.pj,{onClick:()=>eN(e.member_ID),children:(0,a.jsx)(g.C,{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:e.membership_status})}),(0,a.jsx)(b.pj,{onClick:()=>eN(e.member_ID),children:e.batch_number||"-"}),(0,a.jsx)(b.pj,{className:"text-center",onClick:()=>eN(e.member_ID),children:e.marital_status||"-"}),(0,a.jsx)(b.pj,{onClick:()=>eN(e.member_ID),children:e.date_of_birth||"-"}),(0,a.jsx)(b.pj,{className:"text-center",onClick:()=>eN(e.member_ID),children:e.blood_group||"-"}),(0,a.jsx)(b.pj,{onClick:()=>eN(e.member_ID),children:e.nationality||"-"}),(0,a.jsx)(b.pj,{className:"text-center",children:(0,a.jsxs)(f.DropdownMenu,{children:[(0,a.jsx)(f.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(j.z,{variant:"ghost",size:"icon",children:(0,a.jsx)(m.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(f.DropdownMenuContent,{align:"end",children:[(0,a.jsx)(f.Ju,{children:"Actions"}),(0,a.jsx)(f.VD,{}),(0,a.jsxs)(f.DropdownMenuItem,{className:"gap-2",onClick:()=>ey(e.member_ID),children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"})," Update"]}),(0,a.jsxs)(f.DropdownMenuItem,{className:"gap-2",onClick:()=>ek(e.member_ID),children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"})," Transfer ID"]}),(0,a.jsx)(f.VD,{}),(0,a.jsxs)(f.DropdownMenuItem,{onClick:()=>{F(!0),R(e.member_ID)},className:"text-destructive gap-2",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4"}),"Delete"]})]})]})})]},e.member_ID))})]})}),(0,a.jsx)("div",{className:" flex justify-center",children:(0,a.jsx)(_.tl,{children:(0,a.jsxs)(_.ng,{children:[(null==el?void 0:el.previous)&&(0,a.jsx)(_.nt,{className:"cursor-pointer",children:(0,a.jsx)(_.dN,{onClick:e=>{e.preventDefault(),ev(en-1)}})}),(()=>{let e=[];for(let s=1;s<=ei;s++)e.push((0,a.jsx)(_.nt,{children:(0,a.jsx)(_.kN,{onClick:()=>ev(s),isActive:s===en,children:s})},s));return e})(),(null==el?void 0:el.next)&&(0,a.jsx)(_.nt,{children:(0,a.jsx)(_.$0,{onClick:e=>{e.preventDefault(),ev(en+1)}})})]})})}),(0,a.jsx)(P.Z,{open:t,title:"Are you sure?",description:"Do you want to delete ".concat(Q," member?"),onCancel:()=>F(!1),onConfirm:()=>{Q&&ew(Q)},confirmText:"Delete",cancelText:"Cancel"})]})}},66584:function(e,s,t){"use strict";t.d(s,{default:function(){return I}});var a=t(57437),r=t(2265),l=t(73247),n=t(3577),i=t(31047),c=t(57356),d=t(65621),o=t(12381),m=t(40279),x=t(33804),h=t(69174),u=t(15291),j=t(75060),p=t(54761),f=t(99376),b=t(35174),g=t(12749),N=t(46291),v=t(52255),y=t(79820),k=t(80225),w=t(88231),_=t(11713),C=t(94242),D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,_.a)({queryKey:["getTransferHistory",e],queryFn:async()=>{var t,a,r;try{let a=new URLSearchParams;a.append("page",e.toString()),Object.entries(s).forEach(e=>{let[s,t]=e;null!=t&&("start_date"===s&&t instanceof Date||"end_date"===s&&t instanceof Date?a.append(s,t.toISOString().split("T")[0]):a.append(s,String(t)))});let r=await w.Z.get("/api/member/v1/members/history/?".concat(a.toString()));if((null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.status)=="success")return r.data;return console.error("Failed to fetch :",r.data.message),[]}catch(e){return console.error("Error fetching:",e),C.toast.error("Error",(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to Load History "),[]}}})},S=t(84894);let Z={start_date:void 0,end_date:void 0,transferred:void 0};var I=function(){let[e,s]=(0,r.useState)(""),t=(0,f.useSearchParams)();(0,k.e3)();let[w,_]=(0,r.useState)(Z),[C,I]=(0,r.useState)(!1),{data:M,isLoading:A,refetch:P,isFetching:B}=D(Number(t.get("page"))||1,w),z=null==M?void 0:M.data,L=null==M?void 0:M.pagination,{current_page:T,total_pages:F}=L||{},Q=(e,s)=>{_(t=>({...t,[e]:s}))},R=()=>{_(Z),s(""),setTimeout(()=>P(),0)},E=(null==z?void 0:z.filter(s=>s.transferred_reason.toLowerCase().includes(e.toLowerCase())||s.stored_member_id.toLowerCase().includes(e.toLowerCase())))||[],O=(0,f.useRouter)(),V=e=>{e!==T&&(O.push("?page=".concat(e)),O.refresh())};return A?(0,a.jsx)(p.xg,{}):(0,a.jsxs)("div",{className:"space-y-6 ",children:[(0,a.jsx)("div",{className:"flex flex-row items-center justify-between gap-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"ID Transferred History"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"A list of all ID transferred history in the system."})]})}),(0,a.jsxs)("div",{className:"w-full  ".concat(C?"shadow-lg border rounded-lg":""),children:[(0,a.jsxs)("div",{className:"flex gap-2 ",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(l.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(m.I,{type:"search",placeholder:"Search users...",className:"pl-10 border-0 bg-background focus-visible:ring-0 focus-visible:ring-offset-0 h-10",value:e,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)(o.z,{variant:"outline",onClick:()=>{I(!C)},className:"gap-2 border-0 bg-background h-10 hover:bg-primary hover:text-primary-foreground focus-visible:ring-0 focus-visible:ring-offset-0",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),"Filter"]})]}),C&&(0,a.jsx)("div",{className:"border-t-2 rounded-b-md mt-1 border-primary bg-background p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(j._,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),"Start Date"]}),(0,a.jsxs)(g.J2,{children:[(0,a.jsx)(g.xo,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"outline",className:"w-full justify-start text-left font-normal bg-transparent",children:[(0,a.jsx)(i.Z,{className:"mr-2 h-4 w-4"}),w.start_date?(0,v.WU)(w.start_date,"PPP"):(0,a.jsx)("span",{children:"Pick a date"})]})}),(0,a.jsx)(g.yk,{className:"w-auto p-0",children:(0,a.jsx)(N.f,{mode:"single",captionLayout:"dropdown",selected:w.start_date,onSelect:e=>{e&&Q("start_date",(0,v.WU)(e,"yyyy-MM-dd"))},initialFocus:!0})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(j._,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),"End Date"]}),(0,a.jsxs)(g.J2,{children:[(0,a.jsx)(g.xo,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"outline",className:"w-full justify-start text-left font-normal bg-transparent",children:[(0,a.jsx)(i.Z,{className:"mr-2 h-4 w-4"}),w.end_date?(0,v.WU)(w.end_date,"PPP"):(0,a.jsx)("span",{children:"Pick a date"})]})}),(0,a.jsx)(g.yk,{className:"w-auto p-0",children:(0,a.jsx)(N.f,{mode:"single",captionLayout:"dropdown",selected:w.end_date,onSelect:e=>{e&&Q("end_date",(0,v.WU)(e,"yyyy-MM-dd"))},initialFocus:!0})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(j._,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),"Transferred"]}),(0,a.jsxs)(u.Ph,{value:void 0===w.transferred?"":w.transferred?"true":"false",onValueChange:e=>Q("transferred","true"===e),children:[(0,a.jsx)(u.i4,{className:"w-full",children:(0,a.jsx)(u.ki,{placeholder:"Select Yes or No"})}),(0,a.jsxs)(u.Bw,{children:[(0,a.jsx)(u.Ql,{value:"true",children:"Yes"}),(0,a.jsx)(u.Ql,{value:"false",children:"No"})]})]})]}),(0,a.jsxs)("div",{className:" flex items-center justify-center gap-2",children:[(0,a.jsxs)(o.z,{className:"mt-4",onClick:()=>P(),children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),B?"Filtering...":"Apply"]}),(0,a.jsx)(o.z,{className:"mt-4",variant:"destructive",onClick:()=>R(),children:"Reset"})]})]})})]}),(0,a.jsx)("div",{className:"rounded-md border my-2 font-secondary",children:(0,a.jsxs)(x.iA,{children:[(0,a.jsx)(x.xD,{children:(0,a.jsxs)(x.SC,{className:" text-center font-bold h-14 bg-background border-b-2 border-primary dark:bg-accent",children:[(0,a.jsx)(x.ss,{className:"text-black dark:text-white font-bold  text-center",children:"ID"}),(0,a.jsx)(x.ss,{className:"text-black dark:text-white font-bold",children:"Current ID"}),(0,a.jsx)(x.ss,{className:"text-black dark:text-white font-bold",children:"Transferred from ID"}),(0,a.jsx)(x.ss,{className:"text-black dark:text-white font-bold",children:"Reason"}),(0,a.jsx)(x.ss,{className:"text-black dark:text-white font-bold text-center",children:"Transferred"}),(0,a.jsx)(x.ss,{className:"text-black dark:text-white font-bold text-center",children:"Start Date"}),(0,a.jsx)(x.ss,{className:"text-black dark:text-white font-bold text-center",children:"End Date"})]})}),(0,a.jsx)(x.RM,{children:0===E.length?(0,a.jsx)(x.SC,{children:(0,a.jsx)(x.pj,{colSpan:6,className:"text-center py-8 text-red-500 font-medium",children:(0,a.jsx)(y.Zb,{className:"p-8 text-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)(d.Z,{className:"h-12 w-12 text-muted-foreground"}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)("h3",{className:"text-lg font-medium",children:"No History Found"})}),(0,a.jsxs)(o.z,{onClick:()=>{_(Z),s(""),I(!1),setTimeout(()=>P(),0)},variant:"outline",className:"gap-2 bg-transparent text-green-600",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),B?"Retrying Search..":"Reset Filters"]})]})})})}):E.map(e=>(0,a.jsxs)(x.SC,{className:"  cursor-pointer hover:translate-y-1 transition-transform duration-300 ease-in-out bg-background ",children:[(0,a.jsx)(x.pj,{className:"font-medium ",children:e.id}),(0,a.jsx)(x.pj,{children:(0,a.jsx)("p",{className:"font-medium text-left",children:e.member})}),(0,a.jsx)(x.pj,{children:(0,a.jsx)("p",{className:"font-medium text-left",children:e.stored_member_id})}),(0,a.jsx)(x.pj,{children:(0,a.jsx)("p",{className:"font-medium text-left",children:e.transferred_reason})}),(0,a.jsx)(x.pj,{className:"text-center",children:(0,a.jsx)(h.C,{variant:"default",className:"".concat(e.transferred?"bg-green-100 text-green-800":"bg-red-100 text-red-800"," px-2 py-1 rounded-full text-xs font-semibold"),children:e.transferred?"Yes":"No"})}),(0,a.jsx)(x.pj,{className:"text-center",children:(0,a.jsx)("p",{className:"font-medium text-left",children:(0,S.P)(e.start_date)})}),(0,a.jsx)(x.pj,{className:"text-center",children:(0,a.jsx)("p",{className:"font-medium text-left",children:(0,S.P)(e.start_date)})})]},e.id))})]})}),(0,a.jsx)("div",{className:" flex justify-center",children:(0,a.jsx)(b.tl,{children:(0,a.jsxs)(b.ng,{children:[(null==L?void 0:L.previous)&&(0,a.jsx)(b.nt,{className:"cursor-pointer",children:(0,a.jsx)(b.dN,{onClick:e=>{e.preventDefault(),V(T-1)}})}),(()=>{let e=[];for(let s=1;s<=F;s++)e.push((0,a.jsx)(b.nt,{children:(0,a.jsx)(b.kN,{onClick:()=>V(s),isActive:s===T,children:s})},s));return e})(),(null==L?void 0:L.next)&&(0,a.jsx)(b.nt,{children:(0,a.jsx)(b.$0,{onClick:e=>{e.preventDefault(),V(T+1)}})})]})})})]})}},63807:function(e,s,t){"use strict";var a=t(57437),r=t(2265),l=t(61649),n=t(73247),i=t(3577),c=t(65781),d=t(31047),o=t(95805),m=t(67782),x=t(45675),h=t(57356),u=t(18930),j=t(12381),p=t(40279),f=t(32060),b=t(33804),g=t(69174),N=t(15291),v=t(75060),y=t(54761),k=t(17336),w=t(99376),_=t(35174),C=t(69417),D=t(12749),S=t(46291),Z=t(52255),I=t(81500),M=t(79820),A=t(80225),P=t(21770),B=t(88231),z=t(94242),L=t(64910);let T={date_of_birth:void 0,membership_type:"",membership_status:"pending",blood_group:"",gender:"",institute_name:"",marital_status:"",download_excel:void 0,nationality:"",contact_number:"",email:"",member_ID:"",name:""};s.default=function(){let[e,s]=(0,r.useState)(""),{setMemberID:t,setIsUpdateMode:F}=(0,C.Xm)(),Q=(0,w.useSearchParams)(),R=(0,w.useRouter)(),[E,O]=(0,r.useState)(!1),[V,U]=(0,r.useState)(null),q=(0,A.e3)(),[G,W]=(0,r.useState)(T),[H,J]=(0,r.useState)(!1),[$,Y]=(0,r.useState)(!1),K=Number(Q.get("page"))||1,{data:X,isLoading:ee,refetch:es,isFetching:et}=(0,k.Z)(K,G,2),ea=null==X?void 0:X.data,er=null==X?void 0:X.pagination,{current_page:el,total_pages:en}=er||{},{data:ei}=(0,I.Z)(),{membership_type:ec,institute_name:ed,gender:eo,membership_status:em,marital_status:ex}=null!=ei?ei:{},{mutate:eh,isPending:eu}=(0,P.D)({mutationFn:async e=>{let s=await B.Z.delete("/api/member/v1/members/".concat(e,"/"));return 204===s.status&&(z.toast.success("Member deleted successfully"),es(),O(!1),U(null)),s.data},onError:e=>{console.log("error",null==e?void 0:e.response);let{message:s,errors:t,detail:a}=null==e?void 0:e.response.data;t?t&&"object"==typeof t&&(Object.entries(t).forEach(e=>{let[s,t]=e;Array.isArray(t)&&z.toast.error(s,t[0])}),z.toast.error(a||s||"Member Delete Failed")):z.toast.error(a||s||"Member Delete Failed")}}),ej=e=>{eh(e)},ep=(e,s)=>{W(t=>({...t,[e]:s}))},ef=()=>{W(T),s(""),setTimeout(()=>es(),0)},eb=(null==ea?void 0:ea.filter(s=>s.first_name.toLowerCase().includes(e.toLowerCase())||s.last_name.toLowerCase().includes(e.toLowerCase())||s.member_ID.toLowerCase().includes(e.toLowerCase())))||[],eg=e=>{R.push("/member/view/".concat(e))},eN=e=>{t(e),F(!0),R.push("/member/update/".concat(e))},ev=e=>{R.push("/member/transferID/".concat(e))},ey=e=>{e!==el&&(R.push("?page=".concat(e)),R.refresh())};return ee?(0,a.jsx)(y.xg,{}):(0,a.jsxs)("div",{className:"space-y-6 ",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Pending Members"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"A list of all of the pending members in the system."})]}),(0,a.jsx)("div",{children:(0,a.jsxs)(j.z,{className:"gap-1",onClick:()=>{(0,k.c)(K,G),es()},children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),"Export"]})})]}),(0,a.jsxs)("div",{className:"w-full  ".concat(H?"shadow-lg border rounded-lg":""),children:[(0,a.jsxs)("div",{className:"flex gap-2 ",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(p.I,{type:"search",placeholder:"Search users...",className:"pl-10 border-0 bg-background focus-visible:ring-0 focus-visible:ring-offset-0 h-10",value:e,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)(j.z,{variant:"outline",onClick:()=>{J(!H),H||Y(!1)},className:"gap-2 border-0 bg-background h-10 hover:bg-primary hover:text-primary-foreground focus-visible:ring-0 focus-visible:ring-offset-0",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),"Filter"]}),(0,a.jsxs)(j.z,{variant:"outline",onClick:()=>{Y(!$),$||J(!1)},className:"gap-2 border-0 bg-background h-10 hover:bg-primary hover:text-primary-foreground focus-visible:ring-0 focus-visible:ring-offset-0",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),"Query"]})]}),H&&(0,a.jsx)("div",{className:"border-t-2 rounded-b-md mt-1 border-primary bg-background p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(v._,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),"Date of Birth"]}),(0,a.jsxs)(D.J2,{children:[(0,a.jsx)(D.xo,{asChild:!0,children:(0,a.jsxs)(j.z,{variant:"outline",className:"w-full justify-start text-left font-normal bg-transparent",children:[(0,a.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),G.date_of_birth?(0,Z.WU)(G.date_of_birth,"PPP"):(0,a.jsx)("span",{children:"Pick a date"})]})}),(0,a.jsx)(D.yk,{className:"w-auto p-0",children:(0,a.jsx)(S.f,{mode:"single",captionLayout:"dropdown",selected:G.date_of_birth,onSelect:e=>ep("date_of_birth",e),initialFocus:!0})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Membership Type"}),(0,a.jsxs)(N.Ph,{value:G.membership_type,onValueChange:e=>ep("membership_type",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"Choose Membership Type"})}),(0,a.jsx)(N.Bw,{children:null==ec?void 0:ec.map((e,s)=>(0,a.jsx)(N.Ql,{value:e.name,children:e.name},s))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Membership Status"}),(0,a.jsxs)(N.Ph,{value:G.membership_status,onValueChange:e=>ep("membership_status",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"Choose Membership Status"})}),(0,a.jsx)(N.Bw,{children:null==em?void 0:em.map((e,s)=>(0,a.jsx)(N.Ql,{value:e.name,children:e.name},s))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Blood Group"}),(0,a.jsxs)(N.Ph,{value:G.blood_group,onValueChange:e=>ep("blood_group",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"Choose Blood Group"})}),(0,a.jsxs)(N.Bw,{children:[(0,a.jsx)(N.Ql,{value:"A+",children:"A+"}),(0,a.jsx)(N.Ql,{value:"A-",children:"A-"}),(0,a.jsx)(N.Ql,{value:"B+",children:"B+"}),(0,a.jsx)(N.Ql,{value:"B-",children:"B-"}),(0,a.jsx)(N.Ql,{value:"AB+",children:"AB+"}),(0,a.jsx)(N.Ql,{value:"AB-",children:"AB-"}),(0,a.jsx)(N.Ql,{value:"O+",children:"O+"}),(0,a.jsx)(N.Ql,{value:"O-",children:"O-"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Institute Name"}),(0,a.jsxs)(N.Ph,{value:G.institute_name,onValueChange:e=>ep("institute_name",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"Choose Institute"})}),(0,a.jsx)(N.Bw,{children:null==ed?void 0:ed.map((e,s)=>(0,a.jsxs)(N.Ql,{value:e.name,children:[e.name," - ",e.code]},s))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Marital Status"}),(0,a.jsxs)(N.Ph,{value:G.marital_status,onValueChange:e=>ep("marital_status",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"What's Marital Status?"})}),(0,a.jsx)(N.Bw,{children:null==ex?void 0:ex.map((e,s)=>(0,a.jsx)(N.Ql,{value:e.name,children:e.name},s))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Gender"}),(0,a.jsxs)(N.Ph,{value:G.gender,onValueChange:e=>ep("gender",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"Choose Gender",children:G.gender})}),(0,a.jsx)(N.Bw,{children:null==eo?void 0:eo.map((e,s)=>(0,a.jsx)(N.Ql,{value:e.name,children:e.name},s))})]})]}),(0,a.jsxs)("div",{className:" flex items-center justify-center gap-2",children:[(0,a.jsxs)(j.z,{className:"mt-4",onClick:()=>es(),children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),et?"Filtering...":"Apply"]}),(0,a.jsx)(j.z,{className:"mt-4",variant:"destructive",onClick:()=>ef(),children:"Reset"})]})]})}),$&&(0,a.jsx)("div",{className:"border-t-2 rounded-b-md mt-1 border-primary bg-background p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium",children:"Member ID"}),(0,a.jsx)(p.I,{type:"text",placeholder:"Search by ID...",className:"bg-background",value:G.member_ID,onChange:e=>ep("member_ID",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium",children:"Name"}),(0,a.jsx)(p.I,{type:"text",placeholder:"Search by name...",className:"bg-background",value:G.name,onChange:e=>ep("name",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium",children:"Contact Number"}),(0,a.jsx)(p.I,{type:"text",placeholder:"Search by contact...",className:"bg-background",value:G.contact_number,onChange:e=>ep("contact_number",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium",children:"Email"}),(0,a.jsx)(p.I,{type:"text",placeholder:"Search by email...",className:"bg-background",value:G.email,onChange:e=>ep("email",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v._,{className:"text-sm font-medium text-gray-700",children:"Nationality"}),(0,a.jsxs)(N.Ph,{value:G.nationality,onValueChange:e=>ep("nationality",e),children:[(0,a.jsx)(N.i4,{className:"w-full",children:(0,a.jsx)(N.ki,{placeholder:"Select Nationality"})}),(0,a.jsx)(N.Bw,{children:null==q?void 0:q.map((e,s)=>(0,a.jsx)(N.Ql,{value:e,children:e},s))})]})]}),(0,a.jsxs)("div",{className:" flex items-center justify-center gap-2",children:[(0,a.jsxs)(j.z,{className:"mt-4",onClick:()=>es(),children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),et?"Filtering...":"Apply"]}),(0,a.jsx)(j.z,{className:"mt-4",variant:"destructive",onClick:()=>ef(),children:"Reset"})]})]})})]}),(0,a.jsx)("div",{className:"rounded-md border my-2 font-secondary",children:(0,a.jsxs)(b.iA,{className:"",children:[(0,a.jsx)(b.xD,{children:(0,a.jsxs)(b.SC,{className:" text-center font-bold h-14 bg-background border-b-2 border-primary dark:bg-accent",children:[(0,a.jsx)(b.ss,{className:" text-black dark:text-white font-bold  text-center",children:"ID"}),(0,a.jsx)(b.ss,{className:"text-black dark:text-white font-bold",children:"Member"}),(0,a.jsx)(b.ss,{className:"text-black dark:text-white font-bold",children:"Type"}),(0,a.jsx)(b.ss,{className:" text-black dark:text-white font-bold",children:"Status"}),(0,a.jsx)(b.ss,{className:"text-black dark:text-white font-bold",children:"Batch"}),(0,a.jsx)(b.ss,{className:" text-black dark:text-white font-bold text-center",children:"Martial St."}),(0,a.jsx)(b.ss,{className:"text-black dark:text-white font-bold text-center",children:"DOB"}),(0,a.jsx)(b.ss,{className:" text-black dark:text-white font-bold",children:"Blood Group"}),(0,a.jsx)(b.ss,{className:"text-black dark:text-white font-bold ",children:"Nationality"}),(0,a.jsx)(b.ss,{className:"text-black dark:text-white font-bold text-center",children:"Actions"})]})}),(0,a.jsx)(b.RM,{children:0===eb.length?(0,a.jsx)(b.SC,{children:(0,a.jsx)(b.pj,{colSpan:10,className:"text-center py-8 text-red-500 font-medium",children:(0,a.jsx)(M.Zb,{className:"p-8 text-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)(o.Z,{className:"h-12 w-12 text-muted-foreground"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"No Members Found"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No members match your current filter criteria. Try adjusting your filters or reset to see all members."})]}),(0,a.jsxs)(j.z,{onClick:()=>{W(T),s(""),J(!1),setTimeout(()=>es(),0)},variant:"outline",className:"gap-2 bg-transparent text-green-600",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),et?"Retrying Search..":"Reset Filters"]})]})})})}):eb.map(e=>(0,a.jsxs)(b.SC,{className:"  cursor-pointer hover:translate-y-1 transition-transform duration-300 ease-in-out bg-background ",children:[(0,a.jsx)(b.pj,{className:"font-medium ",onClick:()=>eg(e.member_ID),children:e.member_ID}),(0,a.jsx)(b.pj,{className:"flex justify-start items-center",onClick:()=>eg(e.member_ID),children:(0,a.jsxs)("div",{className:"space-y-1 ",children:[(0,a.jsx)("p",{className:"font-medium text-left",children:e.first_name+" "+e.last_name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-left",children:e.institute_name})]})}),(0,a.jsx)(b.pj,{onClick:()=>eg(e.member_ID),children:(0,a.jsx)("p",{children:e.membership_type})}),(0,a.jsx)(b.pj,{onClick:()=>eg(e.member_ID),children:(0,a.jsx)(g.C,{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:e.membership_status})}),(0,a.jsx)(b.pj,{onClick:()=>eg(e.member_ID),children:e.batch_number||"-"}),(0,a.jsx)(b.pj,{className:"text-center",onClick:()=>eg(e.member_ID),children:e.marital_status||"-"}),(0,a.jsx)(b.pj,{onClick:()=>eg(e.member_ID),children:e.date_of_birth||"-"}),(0,a.jsx)(b.pj,{className:"text-center",onClick:()=>eg(e.member_ID),children:e.blood_group||"-"}),(0,a.jsx)(b.pj,{onClick:()=>eg(e.member_ID),children:e.nationality||"-"}),(0,a.jsx)(b.pj,{className:"text-center",children:(0,a.jsxs)(f.DropdownMenu,{children:[(0,a.jsx)(f.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(j.z,{variant:"ghost",size:"icon",children:(0,a.jsx)(m.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(f.DropdownMenuContent,{align:"end",children:[(0,a.jsx)(f.Ju,{children:"Actions"}),(0,a.jsx)(f.VD,{}),(0,a.jsxs)(f.DropdownMenuItem,{className:"gap-2",onClick:()=>eN(e.member_ID),children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"})," Update"]}),(0,a.jsxs)(f.DropdownMenuItem,{className:"gap-2",onClick:()=>ev(e.member_ID),children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"})," Transfer ID"]}),(0,a.jsx)(f.VD,{}),(0,a.jsxs)(f.DropdownMenuItem,{onClick:()=>{O(!0),U(e.member_ID)},className:"text-destructive gap-2",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4"}),"Delete"]})]})]})})]},e.member_ID))})]})}),(0,a.jsx)("div",{className:" flex justify-center",children:(0,a.jsx)(_.tl,{children:(0,a.jsxs)(_.ng,{children:[(null==er?void 0:er.previous)&&(0,a.jsx)(_.nt,{className:"cursor-pointer",children:(0,a.jsx)(_.dN,{onClick:e=>{e.preventDefault(),ey(el-1)}})}),(()=>{let e=[];for(let s=1;s<=en;s++)e.push((0,a.jsx)(_.nt,{children:(0,a.jsx)(_.kN,{onClick:()=>ey(s),isActive:s===el,children:s})},s));return e})(),(null==er?void 0:er.next)&&(0,a.jsx)(_.nt,{children:(0,a.jsx)(_.$0,{onClick:e=>{e.preventDefault(),ey(el+1)}})})]})})}),(0,a.jsx)(L.Z,{open:E,title:"Are you sure?",description:"Do you want to delete ".concat(V," member?"),onCancel:()=>O(!1),onConfirm:()=>{V&&ej(V)},confirmText:"Delete",cancelText:"Cancel"})]})}},64910:function(e,s,t){"use strict";var a=t(57437);t(2265),s.Z=e=>{let{open:s,title:t="Are you sure?",description:r="This action cannot be undone.",onCancel:l,onConfirm:n,confirmText:i="Delete",cancelText:c="Cancel"}=e;return s?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center ",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl p-6 w-full max-w-sm",children:[(0,a.jsx)("h2",{className:"text-lg font-bold mb-2",children:t}),(0,a.jsx)("p",{className:"mb-6 text-sm text-gray-600 dark:text-gray-300",children:r}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300",onClick:l,children:c}),(0,a.jsx)("button",{className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700",onClick:n,children:i})]})]})}):null}},35174:function(e,s,t){"use strict";t.d(s,{$0:function(){return h},dN:function(){return x},kN:function(){return m},ng:function(){return d},nt:function(){return o},tl:function(){return c}});var a=t(57437);t(2265);var r=t(92451),l=t(10407),n=t(93448),i=t(12381);function c(e){let{className:s,...t}=e;return(0,a.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,n.cn)("mx-auto flex w-full justify-center",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("ul",{"data-slot":"pagination-content",className:(0,n.cn)("flex flex-row items-center gap-1",s),...t})}function o(e){let{...s}=e;return(0,a.jsx)("li",{"data-slot":"pagination-item",...s})}function m(e){let{className:s,isActive:t,size:r="icon",...l}=e;return(0,a.jsx)("a",{"aria-current":t?"page":void 0,"data-slot":"pagination-link","data-active":t,className:(0,n.cn)((0,i.d)({variant:t?"outline":"ghost",size:r}),s),...l})}function x(e){let{className:s,...t}=e;return(0,a.jsxs)(m,{"aria-label":"Go to previous page",size:"default",className:(0,n.cn)("gap-1 px-2.5 sm:pl-2.5",s),...t,children:[(0,a.jsx)(r.Z,{}),(0,a.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function h(e){let{className:s,...t}=e;return(0,a.jsxs)(m,{"aria-label":"Go to next page",size:"default",className:(0,n.cn)("gap-1 px-2.5 sm:pr-2.5",s),...t,children:[(0,a.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,a.jsx)(l.Z,{})]})}},17336:function(e,s,t){"use strict";t.d(s,{c:function(){return n}});var a=t(88231),r=t(11713),l=t(94242);async function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let t=new URLSearchParams;t.append("page",e.toString()),Object.entries(s).forEach(e=>{let[s,a]=e;null!=a&&""!==a&&("date_of_birth"===s&&a instanceof Date?t.append(s,a.toISOString().split("T")[0]):t.append(s,String(a)))}),t.append("download_excel","true");let r=await a.Z.get("/api/member/v1/members/list/?".concat(t.toString()),{responseType:"blob"}),n=new Blob([r.data],{type:r.headers["content-type"]}),i=window.URL.createObjectURL(n),c=document.createElement("a");c.href=i,c.setAttribute("download","memberlist.xlsx"),document.body.appendChild(c),c.click(),c.remove(),window.URL.revokeObjectURL(i),(null==r?void 0:r.status)===200?l.toast.success("Excel exported successfully"):l.toast.error("Failed to export Members")}catch(e){l.toast.error("Failed to export Members")}}s.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,r.a)({queryKey:["getAllMembers",e,t],queryFn:async()=>{var t,r,n;try{let r=new URLSearchParams;r.append("page",e.toString()),Object.entries(s).forEach(e=>{let[s,t]=e;null!=t&&""!==t&&("date_of_birth"===s&&t instanceof Date?r.append(s,t.toISOString().split("T")[0]):r.append(s,String(t)))});let n=await a.Z.get("/api/member/v1/members/list/?".concat(r.toString()));if((null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.status)=="success")return n.data;return l.toast.error("Failed to fetch Members"),[]}catch(e){return console.error("Error fetching Choices stats:",e),(0,l.toast)("Error",(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to fetch Members"),[]}}})}},84894:function(e,s,t){"use strict";function a(e){if(!e)return"";let s="string"==typeof e?new Date(e):e;return isNaN(s.getTime())?"":s.toLocaleDateString("en-IN",{year:"numeric",month:"2-digit",day:"numeric"})}function r(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}t.d(s,{P:function(){return r},f:function(){return a}})}},function(e){e.O(0,[7317,4242,4311,3464,5844,9049,8068,9859,5763,1262,5184,709,1713,5188,926,6070,5371,761,207,2971,2117,1744],function(){return e(e.s=61012)}),_N_E=e.O()}]);