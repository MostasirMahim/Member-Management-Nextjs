(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6110],{17428:function(e,t,r){Promise.resolve().then(r.bind(r,91397))},91397:function(e,t,r){"use strict";r.d(t,{MemberAccountStatement:function(){return g}});var s=r(57437),n=r(79820),a=r(69174),d=r(31593),o=r(12381),i=r(48736),c=r(17625),l=r(2265),u=r(24457),m=r.n(u),x=r(53375),f=r(94242);function g(e){let{data:t}=e,r=(0,l.useRef)(null),u=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",g=e=>parseFloat(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),h=async()=>{if(r.current)try{let e=await m()(r.current,{scale:2,useCORS:!0,logging:!1}),s=e.toDataURL("image/png"),n=210*e.height/e.width,a=n,d=new x.ZP("p","mm","a4"),o=0;for(d.addImage(s,"PNG",0,o,210,n,void 0,"FAST"),a-=297;a>=0;)o=a-n,d.addPage(),d.addImage(s,"PNG",0,o,210,n,void 0,"FAST"),a-=297;d.save("Member-Account-".concat(t.id,"-Receipt.pdf")),f.toast.success("PDF downloaded successfully!")}catch(e){console.error("Error generating PDF:",e),f.toast.error("There was an error generating the PDF. Please try again.")}};return(0,s.jsx)("div",{ref:r,className:"min-h-screen bg-background p-4 md:p-8 flex justify-center items-start",children:(0,s.jsxs)(n.Zb,{className:"w-full max-w-3xl shadow-lg border-border bg-card print:shadow-none print:border-0 print:bg-transparent",children:[(0,s.jsx)(n.Ol,{className:"pb-3 border-b border-border print:border-b-foreground/20",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"GACL"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Member Account Summary"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)(n.ll,{className:"text-lg",children:"Account Statement"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Generated on: ",u(new Date().toISOString())]})]})]})}),(0,s.jsxs)(n.aY,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex flex-wrap justify-between items-start gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-sm font-medium text-muted-foreground",children:"Member ID"}),(0,s.jsx)("p",{className:"text-lg font-mono font-semibold text-foreground",children:t.member})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-sm font-medium text-muted-foreground",children:"Account Created"}),(0,s.jsx)("p",{className:"text-sm text-foreground",children:u(t.created_at)})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("h2",{className:"text-sm font-medium text-muted-foreground",children:"Account Status"}),((e,t)=>{let r=parseFloat(e);return t?r>0?(0,s.jsx)(a.C,{variant:"outline",className:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-200 dark:border-green-800",children:"Credit Balance"}):r<0?(0,s.jsx)(a.C,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20 dark:border-destructive/40",children:"Debit Balance"}):(0,s.jsx)(a.C,{variant:"outline",className:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-200 dark:border-blue-800",children:"Zero Balance"}):(0,s.jsx)(a.C,{variant:"outline",className:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-800",children:"Inactive"})})(t.balance,t.is_active)]})]}),(0,s.jsx)(d.Z,{className:"my-6"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground",children:"Transaction Summary"}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Total Credits:"}),(0,s.jsx)("span",{className:"font-mono text-green-600 dark:text-green-400",children:g(t.total_credits)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Total Debits:"}),(0,s.jsx)("span",{className:"font-mono text-rose-600 dark:text-rose-400",children:g(t.total_debits)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm pt-2 border-t border-border",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Net Activity:"}),(0,s.jsx)("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:g((parseFloat(t.total_credits)-parseFloat(t.total_debits)).toString())})]})]}),(0,s.jsxs)("div",{className:"space-y-3 bg-muted p-4 rounded-md print:bg-muted/50",children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground",children:"Current Balance"}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-lg",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Balance:"}),(0,s.jsx)("span",{className:"font-mono font-bold ".concat(parseFloat(t.balance)>0?"text-green-600 dark:text-green-400":0>parseFloat(t.balance)?"text-rose-600 dark:text-rose-400":"text-foreground"),children:g(t.balance)})]}),parseFloat(t.overdue_amount)>0&&(0,s.jsxs)("div",{className:"flex justify-between text-sm pt-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Overdue Amount:"}),(0,s.jsx)("span",{className:"font-mono text-rose-600 dark:text-rose-400",children:g(t.overdue_amount)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm pt-2 border-t border-border",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Credit Limit:"}),(0,s.jsx)("span",{className:"font-mono text-foreground",children:g(t.credit_limit)})]})]})]}),(0,s.jsx)(d.Z,{className:"my-6"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Last Transaction"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:u(t.last_transaction_date)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Account Updated"}),(0,s.jsx)("p",{className:"text-sm text-foreground",children:u(t.updated_at)})]})]}),t.notes&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{className:"my-6"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Account Notes"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground bg-muted p-3 rounded-md print:bg-muted/50",children:t.notes})]})]}),0===parseFloat(t.total_credits)&&0===parseFloat(t.total_debits)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{className:"my-6"}),(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg p-6 max-w-md mx-auto",children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"No Account Activity"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"This account has no transaction history yet."})]})})]}),(0,s.jsx)(d.Z,{className:"my-6"}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 pt-4 print:hidden",children:[(0,s.jsxs)(o.z,{onClick:h,variant:"outline",size:"sm",className:"gap-1",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4"}),"Save PDF"]}),(0,s.jsxs)(o.z,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>{window.print()},children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),"Print"]})]})]})]})})}},69174:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var s=r(57437);r(2265);var n=r(90535),a=r(93448);let d=(0,n.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...n}=e;return(0,s.jsx)("div",{className:(0,a.cn)(d({variant:r}),t),...n})}},12381:function(e,t,r){"use strict";r.d(t,{d:function(){return i},z:function(){return c}});var s=r(57437),n=r(2265),a=r(37053),d=r(90535),o=r(93448);let i=(0,d.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-blue-400",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:d,asChild:c=!1,...l}=e,u=c?a.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(i({variant:n,size:d,className:r})),ref:t,...l})});c.displayName="Button"},79820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return d},aY:function(){return l},eW:function(){return u},ll:function(){return i}});var s=r(57437),n=r(2265),a=r(93448);let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...n})});d.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});o.displayName="CardHeader";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",r),...n})});i.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});l.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},31593:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(57437),n=r(2265),a=r(55156),d=r(93448);let o=n.forwardRef((e,t)=>{let{className:r,orientation:n="horizontal",decorative:o=!0,...i}=e;return(0,s.jsx)(a.f,{ref:t,decorative:o,orientation:n,className:(0,d.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",r),...i})});o.displayName=a.f.displayName},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(61994),n=r(53335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[7337,2505,7317,4242,4515,2971,2117,1744],function(){return e(e.s=17428)}),_N_E=e.O()}]);