(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4338],{41861:function(e,t,r){Promise.resolve().then(r.bind(r,94318))},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:d="",children:u,iconNode:f,...m}=e;return(0,n.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:i?24*Number(a)/Number(s):a,className:o("lucide",d),...!u&&!l(m)&&{"aria-hidden":"true"},...m},[...f.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,n.forwardRef)((r,a)=>{let{className:l,...c}=r;return(0,n.createElement)(d,{ref:a,iconNode:t,className:o("lucide-".concat(s(i(e))),"lucide-".concat(e),l),...c})});return r.displayName=i(e),r}},95468:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},92451:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},10407:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},67782:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},94318:function(e,t,r){"use strict";r.d(t,{default:function(){return u}});var n=r(57437),s=r(33804),a=r(12381);let i=(0,r(79205).Z)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var o=r(95468),l=r(94242),c=r(88231),d=r(83638),u=e=>{let{data:t}=e,r=null==t?void 0:t.data,u=null==t?void 0:t.pagination,f=async()=>{try{let e=await c.Z.post("/api/mails/v1/emails/retry/");200==e.status&&l.toast.success("Retry process started successfully for failed email.")}catch(r){var e,t;console.log(r),l.toast.error((null==r?void 0:null===(t=r.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Something went wrong")}};return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:" text-4xl font-bold",children:"Outbox List"}),(0,n.jsx)("p",{className:"",children:"All emails sent from the software are listed here."})]}),(0,n.jsx)("div",{children:(0,n.jsxs)(a.z,{variant:"destructive",onClick:f,children:[" ",(0,n.jsx)(i,{})," Retry"]})})]})}),(0,n.jsxs)(s.iA,{children:[(0,n.jsx)(s.Rn,{children:"Outbox"}),(0,n.jsx)(s.xD,{children:(0,n.jsxs)(s.SC,{children:[(0,n.jsx)(s.ss,{className:"",children:"Id"}),(0,n.jsx)(s.ss,{className:"",children:"Email Address"}),(0,n.jsx)(s.ss,{className:"",children:"Status"}),(0,n.jsx)(s.ss,{className:"",children:"Email Compose"}),(0,n.jsx)(s.ss,{className:"",children:"Is from template"}),(0,n.jsx)(s.ss,{className:"",children:"Failed Reason"}),(0,n.jsx)(s.ss,{className:"",children:"Created at"}),(0,n.jsx)(s.ss,{className:"",children:"Updated at"})]})}),(0,n.jsx)(s.RM,{children:r.map(e=>(0,n.jsxs)(s.SC,{children:[(0,n.jsx)(s.pj,{className:"",children:e.id}),(0,n.jsx)(s.pj,{className:"",children:e.email_address}),(0,n.jsx)(s.pj,{children:e.status}),(0,n.jsx)(s.pj,{children:e.email_compose}),(0,n.jsx)(s.pj,{className:"",children:e.is_from_template?"Yes":"No"}),(0,n.jsx)(s.pj,{className:"",children:e.failed_reason?e.failed_reason:(0,n.jsx)(o.Z,{})}),(0,n.jsx)(s.pj,{className:"",children:new Date(e.created_at).toLocaleString("en-BD",{dateStyle:"medium",timeStyle:"short"})}),(0,n.jsx)(s.pj,{className:"",children:new Date(e.updated_at).toLocaleString("en-BD",{dateStyle:"medium",timeStyle:"short"})})]},e.id))})]}),(0,n.jsx)(d.s,{paginationData:u})]})}},12381:function(e,t,r){"use strict";r.d(t,{d:function(){return l},z:function(){return c}});var n=r(57437),s=r(2265),a=r(37053),i=r(90535),o=r(93448);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-blue-400",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:s,size:i,className:r})),ref:t,...d})});c.displayName="Button"},35174:function(e,t,r){"use strict";r.d(t,{$0:function(){return m},dN:function(){return f},kN:function(){return u},ng:function(){return c},nt:function(){return d},tl:function(){return l}});var n=r(57437);r(2265);var s=r(92451),a=r(10407),i=r(93448),o=r(12381);function l(e){let{className:t,...r}=e;return(0,n.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,i.cn)("mx-auto flex w-full justify-center",t),...r})}function c(e){let{className:t,...r}=e;return(0,n.jsx)("ul",{"data-slot":"pagination-content",className:(0,i.cn)("flex flex-row items-center gap-1",t),...r})}function d(e){let{...t}=e;return(0,n.jsx)("li",{"data-slot":"pagination-item",...t})}function u(e){let{className:t,isActive:r,size:s="icon",...a}=e;return(0,n.jsx)("a",{"aria-current":r?"page":void 0,"data-slot":"pagination-link","data-active":r,className:(0,i.cn)((0,o.d)({variant:r?"outline":"ghost",size:s}),t),...a})}function f(e){let{className:t,...r}=e;return(0,n.jsxs)(u,{"aria-label":"Go to previous page",size:"default",className:(0,i.cn)("gap-1 px-2.5 sm:pl-2.5",t),...r,children:[(0,n.jsx)(s.Z,{}),(0,n.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function m(e){let{className:t,...r}=e;return(0,n.jsxs)(u,{"aria-label":"Go to next page",size:"default",className:(0,i.cn)("gap-1 px-2.5 sm:pr-2.5",t),...r,children:[(0,n.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,n.jsx)(a.Z,{})]})}},33804:function(e,t,r){"use strict";r.d(t,{RM:function(){return l},Rn:function(){return m},SC:function(){return d},iA:function(){return i},pj:function(){return f},ss:function(){return u},xD:function(){return o},yt:function(){return c}});var n=r(57437),s=r(2265),a=r(93448);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-sm",r),...s})})});i.displayName="Table";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("thead",{ref:t,className:(0,a.cn)("[&_tr]:border-b",r),...s})});o.displayName="TableHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0",r),...s})});l.displayName="TableBody";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("tfoot",{ref:t,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})});c.displayName="TableFooter";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});d.displayName="TableRow";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("th",{ref:t,className:(0,a.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});u.displayName="TableHead";let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("td",{ref:t,className:(0,a.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});f.displayName="TableCell";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",r),...s})});m.displayName="TableCaption"},83638:function(e,t,r){"use strict";r.d(t,{s:function(){return l}});var n=r(57437),s=r(99376),a=r(35174),i=r(67782);function o(e){let{className:t,...r}=e;return(0,n.jsxs)("span",{className:"flex h-9 w-9 items-center justify-center text-muted-foreground "+(t||""),...r,children:[(0,n.jsx)(i.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"More pages"})]})}function l(e){let{paginationData:t,className:r}=e,i=(0,s.useRouter)();if(!t||t.total_pages<=1)return null;let{current_page:l,total_pages:c,next:d,previous:u}=t,f=e=>{e!==l&&e>=1&&e<=c&&(i.push("?page=".concat(e)),i.refresh())},m=(e,t)=>"..."===e?(0,n.jsx)(a.nt,{children:(0,n.jsx)(o,{className:"cursor-pointer font-bold text-indigo-600 rounded-md p-2 hover:bg-indigo-400 transition-colors"})},"ellipsis-".concat(t)):(0,n.jsx)(a.nt,{children:(0,n.jsx)(a.kN,{className:"cursor-pointer font-bold text-indigo-600 rounded-md p-2 hover:bg-indigo-400 transition-colors",isActive:e===l,onClick:t=>{t.preventDefault(),f(e)},children:e})},"page-".concat(e));return(0,n.jsx)("div",{className:"my-5 pb-11 ".concat(r||""),children:(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(a.tl,{children:(0,n.jsxs)(a.ng,{children:[u&&(0,n.jsx)(a.nt,{children:(0,n.jsx)(a.dN,{className:"cursor-pointer font-bold text-indigo-600 rounded-md p-2 hover:bg-indigo-400 transition-colors",onClick:e=>{e.preventDefault(),f(l-1)}})}),(()=>{let e=[],t=[];for(let t=Math.max(2,l-1);t<=Math.min(c-1,l+1);t++)e.push(t);return l-1>2&&t.push(1),l-1>2&&t.push("..."),e.forEach(e=>{t.push(e)}),l+1<c-1&&t.push("..."),l+1<c&&t.push(c),t.includes(1)||t.unshift(1),t.includes(c)||1===c||t.push(c),t})().map((e,t)=>m(e,t)),d&&(0,n.jsx)(a.nt,{children:(0,n.jsx)(a.$0,{className:"cursor-pointer font-bold text-indigo-600 rounded-md p-2 hover:bg-indigo-400 transition-colors",onClick:e=>{e.preventDefault(),f(l+1)}})})]})})})})}},88231:function(e,t,r){"use strict";var n=r(83464),s=r(40257);let a=n.Z.create({baseURL:s.env.NEXT_PUBLIC_BACKEND_API_URL||"http://localhost:8000",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});t.Z=a},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(61994),s=r(53335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}}},function(e){e.O(0,[7317,4242,4311,3464,2971,2117,1744],function(){return e(e.s=41861)}),_N_E=e.O()}]);