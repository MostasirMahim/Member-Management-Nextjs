(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6442],{84895:function(e,t,n){Promise.resolve().then(n.bind(n,84e3))},84e3:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(57437),a=n(2265),s=n(77314),o=n(12381),i=n(40279),d=n(79820),l=n(69174),c=n(30767),u=n(29827),m=n(21770),f=n(88231),p=n(23340),h=n(11713);let x={membership_type:{title:"Membership Type",component:"MembershipTypeChoice"},institute_name:{title:"Institute Name",component:"InstituteNameChoice",hasCode:!0},gender:{title:"Gender",component:"GenderChoice"},membership_status:{title:"Membership Status",component:"MembershipStatusChoice"},marital_status:{title:"Marital Status",component:"MaritalStatusChoice"},employment_type:{title:"Employment Type",component:"EmploymentTypeChoice"},email_type:{title:"Email Type",component:"EmailTypeChoice"},contact_type:{title:"Contact Type",component:"ContactTypeChoice"},address_type:{title:"Address Type",component:"AddressTypeChoice"},document_type:{title:"Document Type",component:"DocumentTypeChoice"},spouse_status_choice:{title:"Spouse Status Type",component:"SpouseStatusTypeChoice"},descendant_relation_choice:{title:"Descendant Relation Type",component:"DescendantRelationTypeChoice"}};var v=n(54761);let y={membership_type:"/api/core/v1/membership_type/",institute_name:"/api/core/v1/institute_name/",gender:"/api/core/v1/gender/",membership_status:"/api/core/v1/member_ship_status_choice/",marital_status:"/api/core/v1/marital_status_choice/",employment_type:"/api/core/v1/employment_type_choice/",email_type:"/api/core/v1/email_type_choice/",contact_type:"/api/core/v1/contact_type_choice/",address_type:"/api/core/v1/address_type_choice/",document_type:"/api/core/v1/document_type_choice/",spouse_status_choice:"/api/core/v1/spouse_status_type_choice/",descendant_relation_choice:"/api/core/v1/descendant_relation_type_choice/"};function g(){let[e,t]=(0,a.useState)({isOpen:!1,sectionIndex:-1,title:""}),n=(0,u.NL)(),{data:g,isLoading:b}=(0,h.a)({queryKey:["getChoices"],queryFn:async()=>{var e,t,n,r;try{let t=await f.Z.get("/api/core/v1/all_choices/?cache=false");if((null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.status)!="success")return console.error("Failed to fetch Choices:",t.data.message),[];return r=t.data.data,Object.entries(r).map(e=>{var t;let[n,r]=e,a=null!==(t=x[n])&&void 0!==t?t:{title:n.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),component:"GenericChoice"};return{title:a.title,slug:n,component:a.component,hasCode:a.hasCode,items:r.map((e,t)=>({id:t.toString(),name:e.name,...e.code?{code:e.code}:{}}))}})}catch(e){return console.error("Error fetching Choices stats:",e),(0,p.Am)({title:"Error",description:(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)||"Failed to fetch Choices",variant:"destructive"}),[]}}}),[N,_]=(0,a.useState)([]);(0,a.useEffect)(()=>{g&&_(g)},[g]);let{mutate:j,isPending:C}=(0,m.D)({mutationFn:async e=>{let{slug:t,formData:n}=e,r=y[t];if(!r){(0,p.Am)({title:"Endpoint Not Found",description:"Technical Mistake",variant:"destructive"});return}return(await f.Z.post("".concat(r),n)).data},onSuccess:e=>{(null==e?void 0:e.status)==="success"&&(n.invalidateQueries({queryKey:["getChoices"]}),(0,p.Am)({title:(null==e?void 0:e.details)||"Choice Added successfully",description:(null==e?void 0:e.message)||"Choice has been successfully added.",variant:"default"}))},onError:e=>{console.log("error",null==e?void 0:e.response);let{message:t,errors:n,detail:r}=null==e?void 0:e.response.data;if(n){let e=Object.values(n).flat().join("\n");(0,p.Am)({title:"Choice Added Failed",description:e,variant:"destructive"})}else(0,p.Am)({title:r||"Choice Added Failed",description:t||"An error occurred during Choice Added",variant:"destructive"})}}),w=[{hasCode:!1},{hasCode:!1},{hasCode:!0},{hasCode:!1},{hasCode:!1},{hasCode:!1},{hasCode:!1},{hasCode:!1},{hasCode:!1},{hasCode:!1},{hasCode:!1},{hasCode:!1}].map(e=>(0,s.TA)({initialValues:{name:"",code:e.hasCode?"":void 0},onSubmit:()=>{}})),T=e=>{let n=N[e];t({isOpen:!0,sectionIndex:e,title:n.title})},A=e=>{let n=N[e],r=w[e],a=r.values;j({slug:n.slug,formData:a}),r.resetForm(),t({isOpen:!1,sectionIndex:-1,title:""})};return b?(0,r.jsx)(v.xg,{}):(0,r.jsx)("div",{className:"min-h-screen bg-background ",children:(0,r.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,r.jsxs)("div",{className:"mb-8 ",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Manage All Choices"}),(0,r.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Add and manage different types of choices for the membership system"})]}),(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2 ",children:N.map((e,t)=>(0,r.jsxs)(d.Zb,{className:"shadow-lg",children:[(0,r.jsx)(d.Ol,{className:"pb-6",children:(0,r.jsx)(d.ll,{className:"text-xl font-bold",children:e.title})}),(0,r.jsxs)(d.aY,{className:"space-y-6",children:[(0,r.jsx)("div",{className:"space-y-2 max-h-[250px]  overflow-y-auto",children:0===e.items.length?(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"No items found"}):e.items.map(e=>(0,r.jsx)("div",{className:"flex items-center justify-between rounded-md border p-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"font-medium",children:e.name}),e.code&&(0,r.jsx)(l.C,{variant:"secondary",className:"text-xs",children:e.code})]})},e.id))}),(0,r.jsxs)("div",{className:"flex  gap-2",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsx)(i.I,{placeholder:"Enter new ".concat(e.title.toLowerCase()," name"),value:w[t].values.name,onChange:e=>w[t].setFieldValue("name",e.target.value)}),e.hasCode&&(0,r.jsx)(i.I,{placeholder:"Enter new ".concat(e.title.toLowerCase()," code"),value:w[t].values.code||"",onChange:e=>w[t].setFieldValue("code",e.target.value)})]}),(0,r.jsx)(o.z,{onClick:()=>T(t),className:"self-end",disabled:C,children:"Add"})]})]})]},e.slug))}),(0,r.jsx)(c.aR,{open:e.isOpen,onOpenChange:e=>!e&&t({isOpen:!1,sectionIndex:-1,title:""}),children:(0,r.jsxs)(c._T,{children:[(0,r.jsxs)(c.fY,{children:[(0,r.jsx)(c.f$,{children:"Confirm Addition"}),(0,r.jsxs)(c.yT,{children:["Are you sure you want to add this new"," ",e.title.toLowerCase(),"?"]})]}),(0,r.jsxs)(c.xo,{children:[(0,r.jsx)(c.le,{children:"Cancel"}),(0,r.jsx)(c.OL,{onClick:()=>A(e.sectionIndex),children:"Continue"})]})]})})]})})}},30767:function(e,t,n){"use strict";n.d(t,{OL:function(){return v},_T:function(){return m},aR:function(){return d},f$:function(){return h},fY:function(){return f},le:function(){return y},vW:function(){return l},xo:function(){return p},yT:function(){return x}});var r=n(57437),a=n(2265),s=n(90277),o=n(93448),i=n(12381);let d=s.fC,l=s.xz,c=s.h_,u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a,ref:t})});u.displayName=s.aV.displayName;let m=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{}),(0,r.jsx)(s.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...a})]})});m.displayName=s.VY.displayName;let f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...n})};f.displayName="AlertDialogHeader";let p=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};p.displayName="AlertDialogFooter";let h=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold",n),...a})});h.displayName=s.Dx.displayName;let x=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",n),...a})});x.displayName=s.dk.displayName;let v=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.aU,{ref:t,className:(0,o.cn)((0,i.d)(),n),...a})});v.displayName=s.aU.displayName;let y=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.$j,{ref:t,className:(0,o.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",n),...a})});y.displayName=s.$j.displayName},69174:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var r=n(57437);n(2265);var a=n(90535),s=n(93448);let o=(0,a.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:n,...a}=e;return(0,r.jsx)("div",{className:(0,s.cn)(o({variant:n}),t),...a})}},12381:function(e,t,n){"use strict";n.d(t,{d:function(){return d},z:function(){return l}});var r=n(57437),a=n(2265),s=n(37053),o=n(90535),i=n(93448);let d=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-blue-400",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:n,variant:a,size:o,asChild:l=!1,...c}=e,u=l?s.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(d({variant:a,size:o,className:n})),ref:t,...c})});l.displayName="Button"},79820:function(e,t,n){"use strict";n.d(t,{Ol:function(){return i},SZ:function(){return l},Zb:function(){return o},aY:function(){return c},eW:function(){return u},ll:function(){return d}});var r=n(57437),a=n(2265),s=n(93448);let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow",n),...a})});o.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",n),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("font-semibold leading-none tracking-tight",n),...a})});d.displayName="CardTitle";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...a})});l.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",n),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",n),...a})});u.displayName="CardFooter"},40279:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(57437),a=n(2265),s=n(93448);let o=a.forwardRef((e,t)=>{let{className:n,type:a,...o}=e;return(0,r.jsx)("input",{type:a,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...o})});o.displayName="Input"},54761:function(e,t,n){"use strict";n.d(t,{Wo:function(){return i},xg:function(){return o}});var r=n(57437),a=n(93448);function s(e){let{size:t="default",variant:n="default",showText:s=!1,text:o="Loading...",center:i=!1,fullHeight:d=!1,className:l,...c}=e;return(0,r.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center gap-3",i&&"absolute inset-0 m-auto",d&&"h-full",l),...c,children:[(0,r.jsx)("div",{className:(0,a.cn)("animate-spin rounded-full",{sm:"h-4 w-4 border-2",default:"h-8 w-8 border-3",lg:"h-12 w-12 border-4",xl:"h-16 w-16 border-4"}[t],{default:"border-muted-foreground/20 border-t-muted-foreground/60",primary:"border-muted-foreground/20 border-t-primary",secondary:"border-muted-foreground/20 border-t-secondary",ghost:"border-background/20 border-t-background/80"}[n])}),s&&(0,r.jsx)("p",{className:(0,a.cn)("text-muted-foreground animate-pulse","sm"===t&&"text-xs","default"===t&&"text-sm","lg"===t&&"text-base","xl"===t&&"text-lg"),children:o})]})}function o(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex items-center justify-center h-screen bg-transparent space-x-1.5",t),...n,children:[0,1,2].map(e=>(0,r.jsx)("div",{className:"h-10 w-10 rounded-full animate-bounce bg-primary",style:{animationDelay:"".concat(.1*e,"s")}},e))})}function i(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("rounded-lg border bg-card p-4 shadow-sm flex items-center justify-center min-h-[200px]",t),...n,children:(0,r.jsx)(s,{size:"default",variant:"primary",showText:!0})})}},23340:function(e,t,n){"use strict";n.d(t,{Am:function(){return u},pm:function(){return m}});var r=n(2265);let a=0,s=new Map,o=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?o(n):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],l={toasts:[]};function c(e){l=i(l,e),d.forEach(e=>{e(l)})}function u(e){let{...t}=e,n=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:n});return c({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:e=>{e||r()}}}),{id:n,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:n}})}}function m(){let[e,t]=r.useState(l);return r.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},88231:function(e,t,n){"use strict";let r=n(83464).Z.create({baseURL:"http://192.168.0.102:8000",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});t.Z=r},93448:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var r=n(61994),a=n(53335);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}},71599:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(2265),a=n(98575),s=n(61188),o=e=>{var t,n;let o,d;let{present:l,children:c}=e,u=function(e){var t,n;let[a,o]=r.useState(),d=r.useRef(null),l=r.useRef(e),c=r.useRef("none"),[u,m]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>{let r=n[e][t];return null!=r?r:e},t));return r.useEffect(()=>{let e=i(d.current);c.current="mounted"===u?e:"none"},[u]),(0,s.b)(()=>{let t=d.current,n=l.current;if(n!==e){let r=c.current,a=i(t);e?m("MOUNT"):"none"===a||(null==t?void 0:t.display)==="none"?m("UNMOUNT"):n&&r!==a?m("ANIMATION_OUT"):m("UNMOUNT"),l.current=e}},[e,m]),(0,s.b)(()=>{if(a){var e;let t;let n=null!==(e=a.ownerDocument.defaultView)&&void 0!==e?e:window,r=e=>{let r=i(d.current).includes(e.animationName);if(e.target===a&&r&&(m("ANIMATION_END"),!l.current)){let e=a.style.animationFillMode;a.style.animationFillMode="forwards",t=n.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=e)})}},s=e=>{e.target===a&&(c.current=i(d.current))};return a.addEventListener("animationstart",s),a.addEventListener("animationcancel",r),a.addEventListener("animationend",r),()=>{n.clearTimeout(t),a.removeEventListener("animationstart",s),a.removeEventListener("animationcancel",r),a.removeEventListener("animationend",r)}}m("ANIMATION_END")},[a,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:r.useCallback(e=>{d.current=e?getComputedStyle(e):null,o(e)},[])}}(l),m="function"==typeof c?c({present:u.isPresent}):r.Children.only(c),f=(0,a.e)(u.ref,(o=null===(t=Object.getOwnPropertyDescriptor(m.props,"ref"))||void 0===t?void 0:t.get)&&"isReactWarning"in o&&o.isReactWarning?m.ref:(o=null===(n=Object.getOwnPropertyDescriptor(m,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in o&&o.isReactWarning?m.props.ref:m.props.ref||m.ref);return"function"==typeof c||u.isPresent?r.cloneElement(m,{ref:f}):null};function i(e){return(null==e?void 0:e.animationName)||"none"}o.displayName="Presence"}},function(e){e.O(0,[7317,4311,3464,5844,9049,1262,709,1713,277,2971,2117,1744],function(){return e(e.s=84895)}),_N_E=e.O()}]);